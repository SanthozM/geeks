{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#welcome-to-the-techguide","title":"Welcome to the TechGuide!","text":"<p>This guide is designed to share my knowledge of various networking utilities on the Linux platform. Explore the content and feel free to use the information if it proves helpful to you.</p> Dnsmasq <ul> <li>DHCP Server</li> <li>DNS Filtering</li> <li>Split DNS</li> </ul> Netplan <ul> <li>Basics</li> <li>Ethernet</li> <li>VLAN</li> <li>Bridge</li> <li>Routing </li></ul> Iptables <ul> <li>Masqueradeing / NAT Traversal</li> <li>Packet Filtering</li> <li>Domain based filtering/forwarding</li> <li>Port Forwarding / DNAT</li> <li>Block Brute force attack</li> <li>Quota Traffic limit </li></ul> N8n <ul> <li>Self-hosting</li> <li>Chat bot blocks </li></ul>"},{"location":"Profile/","title":"Home","text":"Hi \ud83d\udc4b, I'm Santhosh Murugesan A passionate Full Stack Network Engineer from India <ul> <li> <p>\ud83d\udd2d I\u2019m currently working on ChiefNET</p> </li> <li> <p>\ud83d\udc68\u200d\ud83d\udcbb All of my projects are available at geeks.santhoz.in/Projects</p> </li> <li> <p>\ud83d\udcdd I regularly write articles on geeks.santhoz.in</p> </li> <li> <p>\ud83d\udcac Ask me about Python, Networking, Linux</p> </li> <li> <p>\ud83d\udceb How to reach me santhoshm.murugesan@gmail.com</p> </li> <li> <p>\ud83d\udcc4 Know about my experiences geeks.santhoz.in/resume</p> </li> </ul> Connect with me: <p> </p> Languages and Tools: <p> </p>"},{"location":"blogs/","title":"Home","text":""},{"location":"blogs/#welcome-to-the-blogs","title":"Welcome to the Blogs!","text":"<p>This blog is created to share my insights on various networking utilities across Linux and Windows platforms. It covers issues I've encountered and resolved, which I believe others may find useful. Feel free to explore the content and use the information if it helps you!</p> <ul> <li>Deploy MKDOCS in the Linux Machine using NGINIX</li> <li>Troubleshooting VPN Connectivity: Dealing with IPv6 Issues on Linux</li> <li>Troubleshooting VPN Connectivity: Dealing with IPv6 Issues on Windows</li> <li>Resolve! DNSMASQ -&gt; port 53: Address already in use</li> <li>Network Control: Block Domains and Show a Custom Message with dnsmasq</li> <li>Block DNS over HTTPS(DoH) using DNSMASQ</li> <li>Can Netcat (nc) Replace SSH? Not Quite \u2013 But It's Still a Beast </li> <li>Wireguard VPN tunnel</li> <li>AI Model (Gemma 3) in N100 mini PC</li> </ul>"},{"location":"Blog/post1/","title":"Deploy MKDOCS in the Linux Machine using NGINIX","text":""},{"location":"Blog/post1/#deploy-mkdocs-in-the-linux-machine-using-nginix","title":"Deploy MKDOCS in the Linux Machine using NGINIX","text":""},{"location":"Blog/post1/#1-install-mkdocs","title":"1. Install MkDocs","text":"<p>If you haven't already installed MkDocs, you can do so using pip. Open a terminal and run:</p> <pre><code>pip install mkdocs\n</code></pre>"},{"location":"Blog/post1/#2-create-your-mkdocs-project","title":"2. Create Your MkDocs Project","text":"<p>If you don't have an existing MkDocs project, create one with:</p> <pre><code>mkdocs new my-project\ncd my-project\n</code></pre>"},{"location":"Blog/post1/#3-generate-static-files","title":"3. Generate Static Files","text":"<p>To build your MkDocs site, run:</p> <pre><code>mkdocs build\n</code></pre> <p>This will generate the static files in the site directory.</p>"},{"location":"Blog/post1/#4-install-a-web-server","title":"4. Install a Web Server","text":"<p>You need a web server to serve the static files. Common choices are Nginx or Apache. Here\u2019s how to install Nginx:</p> <pre><code>sudo apt update\nsudo apt install nginx\n</code></pre>"},{"location":"Blog/post1/#5-set-up-https-with-certbot","title":"5. Set Up HTTPS with Certbot","text":"<p>To secure your site with HTTPS, you can use Let\u2019s Encrypt and Certbot. Install Certbot:</p> <pre><code>sudo apt install certbot python3-certbot-nginx\n</code></pre>"},{"location":"Blog/post1/#a-obtain-a-domain-name","title":"a. Obtain a Domain Name","text":"<p>Make sure you have a registered domain name pointing to your server's IP address. You can use a service like No-IP for dynamic IP addresses.</p>"},{"location":"Blog/post1/#b-obtain-an-ssl-certificate","title":"b. Obtain an SSL Certificate","text":"<p>Run Certbot to automatically obtain an SSL certificate:</p> <pre><code>sudo certbot --nginx\n</code></pre> <p>Follow the prompts to enter your email address and agree to the terms of service. Select the domain for which you want to enable HTTPS.</p>"},{"location":"Blog/post1/#6-configure-nginx","title":"6. Configure Nginx","text":"<p>Create an Nginx configuration file for your MkDocs project:</p> <pre><code>sudo nano /etc/nginx/sites-available/mkdocs\n</code></pre> <p>Add the following configuration: </p><pre><code>nginx\nCopy code\nserver {\n    listen 80;\n    server_name your_domain.com www.your_domain.com;\n\n    # Redirect all HTTP requests to HTTPS\n    return 301 https://$host$request_uri;\n}\n\nserver {\n    listen 443 ssl;\n    server_name your_domain.com www.your_domain.com;\n\n    ssl_certificate /etc/letsencrypt/live/your_domain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/your_domain.com/privkey.pem;\n\n    location / {\n        root /path/to/your/mkdocs/project/site;\n        index index.html index.htm;\n        try_files $uri $uri/ =404;\n    }\n}\n</code></pre> Replace your_domain.com with your actual domain and /path/to/your/mkdocs/project/site with the path to your MkDocs site directory.<p></p>"},{"location":"Blog/post1/#7-enable-the-nginx-configuration","title":"7. Enable the Nginx Configuration","text":"<p>Link the configuration file and restart Nginx:</p> <pre><code>sudo ln -s /etc/nginx/sites-available/mkdocs /etc/nginx/sites-enabled/\nsudo nginx -t  # Test the configuration\nsudo systemctl restart nginx\n</code></pre>"},{"location":"Blog/post1/#8-access-your-site","title":"8. Access Your Site","text":"<p>Your MkDocs site should now be accessible via HTTPS at https://your_domain.com.</p>"},{"location":"Blog/post2/","title":"Troubleshooting VPN Connectivity: Dealing with IPv6 Issues on Linux","text":""},{"location":"Blog/post2/#troubleshooting-vpn-connectivity-dealing-with-ipv6-issues-on-linux","title":"Troubleshooting VPN Connectivity: Dealing with IPv6 Issues on\u00a0Linux","text":"<p>Are you experiencing difficulties connecting to a VPN due to IPv6-related complications? Fear not, you've come to the right place.</p> <p>At times, when attempting to connect to a VPN through older firewalls or routes utilizing Point-to-Point or other tunnels, IPv4-based authentication may be in place. If your IP address is IPv6-based, it can pose a barrier to accessing the VPN or your data. However, there's a solution: suppressing IPv6 on your Linux machine.</p> <p>Note: This guide focuses specifically on Linux systems. (For Windows\u200acheck for the next set of blogs\ud83d\ude18)</p>"},{"location":"Blog/post2/#to-suppress-ipv6-and-exclusively-use-ipv4-over-ipv6-follow-these-simple-steps","title":"To suppress IPv6 and exclusively use IPv4 over IPv6, follow these simple steps:","text":"<p>\u2192 Open terminal \u2192 Edit the \"/etc/sysctl.conf\" file as sudo using the gedit, nano, or vi editor. Example: I'm going to use nano </p><pre><code>sudo nano /etc/systctl.conf\n</code></pre> \u2192 Now add the below lines at the end of the file. <pre><code>net.ipv6.conf.all.disable_ipv6 = 1\nnet.ipv6.conf.default.disable_ipv6 = 1\nnet.ipv6.conf.lo.disable_ipv6 = 1\n</code></pre> Note: In case the above configuration lines are already present, just change the value from 0 to 1\u00a0. By default, most of the Linux machineIPv6 are disabled and might not have this above configuration<p></p> <p>\u2192 The above configuration disables IPv6 on all the interfaces. If you want to disable in particular interface, just add the below lines </p><pre><code>net.ipv6.conf.&lt;interface name&gt;.disable_ipv6 = 1\n</code></pre> Replace the  string with the actual interface name in your system. Check interface details using <code>ip a</code> or <code>ifconfig</code> command.<p></p> <p>\u2192 Now, save the configuration. \u2192 Once you save the configuration. Give below command in terminal </p><pre><code>sudo sysctl -p\n</code></pre> \u2192 Once it's successfully executed, in the terminal it shows the applied changes you have done in /etc/sysctl.conf<p></p> <p>\ud83e\udd29Stick with the old one(IPv4) when the new one(IPv6) gets tricky\ud83d\ude35\u200d\ud83d\udcab, Even in Networks\ud83d\ude07</p>"},{"location":"Blog/post3/","title":"Troubleshooting VPN Connectivity: Dealing with IPv6 Issues on Windows","text":""},{"location":"Blog/post3/#troubleshooting-vpn-connectivity-dealing-with-ipv6-issues-on-windows","title":"Troubleshooting VPN Connectivity: Dealing with IPv6 Issues on\u00a0Windows","text":"<p>Are you experiencing difficulties connecting to a VPN due to IPv6-related complications? Fear not, you've come to the right place.</p> <p>At times, when attempting to connect to a VPN through older firewalls or routes utilizing Point-to-Point or other tunnels, IPv4-based authentication may be in place. If your IP address is IPv6-based, it can pose a barrier to accessing the VPN or your data. However, there's a solution: suppressing IPv6 on your Windows machine.</p> <p>Note: This guide focuses specifically on Windows systems (For Linux use this blog link \u2192 Link \ud83d\ude07).</p> <p>First you can check whether your IPv6 or IPv4 address got utilised by your computer searching for you pubic ip on the bowser((like searching wahtismyipaddress.com))</p>"},{"location":"Blog/post3/#to-suppress-ipv6-and-exclusively-use-ipv4-over-ipv6-follow-these-simple-steps","title":"To suppress IPv6 and exclusively use IPv4 over IPv6, follow these simple steps:","text":"<p>-&gt; Open <code>Control Panel</code>.</p> <p>-&gt; Navigate to <code>Network and Sharing settings</code>.</p> <p>-&gt; Click on <code>Change adapter settings</code>.</p> <p>-&gt; Select your internet source (e.g., Wi-Fi if you access internet using wifi)</p> <p>-&gt; Right-click and select <code>Properties</code>.</p> <p>-&gt; Disable the IPv6 option in the properties menu.</p> <p>By following these steps, you effectively disable or suppress IPv6 on your Windows machine.</p> <p>Now, let's verify the changes got reflected by viewing your Public IP (like searching wahtismyipaddress.com).</p> <p>Voil\u00e0! You'll notice that the IPv6 address has been suppressed, and only the IPv4 address is displayed. With this adjustment, you should be able to access the desired page using the IPv4 address.</p>"},{"location":"Blog/post3/#should-you-need-to-re-enable-ipv6-simply-follow-these-steps","title":"Should you need to re-enable IPv6, simply follow these steps:","text":"<p>-&gt; Enable the <code>IPv6 option</code> in the properties menu.</p> <p>-&gt; Ensure that the <code>Automatically obtain IP address and DNS</code> option is enabled under IPv6 properties.</p> <p>-&gt; If any issues persist, consider disabling and re-enabling the source (e.g., Wi-Fi in this case).</p> <p>By toggling these settings, you can effectively manage IPv6 connectivity on your Windows machine and troubleshoot VPN connection issues related to IPv6.</p> <p>Remember, while IPv6 offers numerous advantages, in certain scenarios, reverting to IPv4 may be necessary to ensure seamless connectivity. With these steps, you're equipped to navigate IPv6-related challenges and optimize your VPN experience on Windows.</p> <p>\ud83e\udd29Stick with the old one(IPv4) when the new one(IPv6) gets tricky\ud83d\ude35\u200d\ud83d\udcab, Even in Networks\ud83d\ude07</p>"},{"location":"Blog/post4/","title":"dnsmasq: port 53: Address already in use","text":""},{"location":"Blog/post4/#dnsmasq-failed-to-create-listening-socket-for-port-53-address-already-in-use","title":"dnsmasq: failed to create listening socket for port 53: Address already in use","text":"<p>Check what's listening on port 53 (domain) with: </p><pre><code>sudo ss -lp \"sport = :domain\"\n</code></pre><p></p> <p>Disable any service that is running on this port. It's usually <code>systemd-resolved</code></p> <p>Here I make sure that you have stopped the <code>systemd-resolved</code> service. I'm going to also mask it so it doesn't auto start on reboot.</p> <pre><code>sudo systemctl stop systemd-resolved\nsudo systemctl disable systemd-resolved\nsudo systemctl mask systemd-resolved\n</code></pre> <p>To undo what you did: </p><pre><code>sudo systemctl unmask systemd-resolved\nsudo systemctl enable systemd-resolved\nsudo systemctl start systemd-resolved\n</code></pre><p></p>"},{"location":"Blog/post5/","title":"Network Control: Block Domains and Show a Custom Message with dnsmasq","text":""},{"location":"Blog/post5/#network-control-block-domains-and-show-a-custom-message-with-dnsmasq","title":"Network Control: Block Domains and Show a Custom Message with dnsmasq","text":"<p>You can create a local HTML server that serves a \"This page is blocked\" message and use <code>dnsmasq</code> to redirect blocked domains to this local server. Here's how to do it:</p>"},{"location":"Blog/post5/#step-1-create-a-simple-html-page","title":"Step 1: Create a Simple HTML Page","text":"<p>First, create a simple HTML page that shows the \"This page is blocked\" message.</p> <ol> <li>Create a directory to hold the HTML files:    <pre><code>mkdir -p /var/www/blocked\n</code></pre></li> <li>Create an <code>index.html</code> file inside the directory with the blocked message:    <pre><code>sudo nano /var/www/blocked/index.html\n</code></pre>    Add the following content:    <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Blocked&lt;/title&gt;\n    &lt;style&gt;\n        body {\n            text-align: center;\n            font-family: Arial, sans-serif;\n            margin-top: 50px;\n        }\n        h1 {\n            color: red;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;This Page is Blocked!&lt;/h1&gt;\n    &lt;p&gt;The site you are trying to access has been blocked by your administrator.&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></li> </ol>"},{"location":"Blog/post5/#step-2-set-up-a-simple-local-web-server","title":"Step 2: Set Up a Simple Local Web Server","text":"<p>To serve the HTML page, you can use a lightweight web server such as Python's HTTP server or NGINX/Apache. Here, I'll use Python\u2019s built-in HTTP server for simplicity:</p> <ol> <li>Navigate to the directory where your HTML file is located:    <pre><code>cd /var/www/blocked\n</code></pre></li> <li>Run the Python HTTP server on a specific port (for example, port 8080):    <pre><code>python3 -m http.server 8080\n</code></pre>    This will start a local HTTP server serving the <code>index.html</code> file.    Now, if you go to <code>http://localhost:8080</code> or <code>http://&lt;your-server-ip&gt;:8080</code> in your browser, you should see the \"This Page is Blocked\" message.</li> </ol>"},{"location":"Blog/post5/#step-3-configure-dnsmasq-to-redirect-blocked-domains","title":"Step 3: Configure dnsmasq to Redirect Blocked Domains","text":"<p>Next, configure <code>dnsmasq</code> to redirect blocked domains to your local HTML server.</p> <ol> <li>Open the <code>dnsmasq</code> configuration file:    <pre><code>sudo nano /etc/dnsmasq.conf\n</code></pre></li> <li>Add entries for the domains you want to block and redirect them to your local server (replace <code>192.168.1.100</code> with your server's IP address):    <pre><code># Redirect blocked domains to local web server running on 192.168.1.100:8080\naddress=/example.com/192.168.1.100\naddress=/ads.example.com/192.168.1.100\n</code></pre></li> <li>Restart <code>dnsmasq</code> to apply the changes:    <pre><code>sudo systemctl restart dnsmasq\n</code></pre></li> </ol>"},{"location":"Blog/post5/#step-4-verify-the-setup","title":"Step 4: Verify the Setup","text":"<p>To test if the setup is working:</p> <ol> <li>Try to access a blocked domain (e.g., <code>example.com</code>) from a browser on a client machine in your network.</li> <li>You should see the custom \"This Page is Blocked\" message served from your local HTML server.</li> </ol> <p>This approach gives you a simple and effective way to show a blocked page for specific domains using <code>dnsmasq</code>!</p>"},{"location":"Blog/post6/","title":"Block DNS over HTTPS(DoH) using DNSMASQ","text":""},{"location":"Blog/post6/#block-dns-over-httpsdoh-using-dnsmasq","title":"Block DNS over HTTPS(DoH) using DNSMASQ","text":"<p>To stop DNS over HTTPS (DoH) using Dnsmasq, you\u2019ll need to block known DoH IP addresses or domains that provide DNS over HTTPS services. Dnsmasq alone cannot directly block HTTPS traffic, but it can prevent DNS lookups to popular DoH providers. Here\u2019s a step-by-step guide:</p>"},{"location":"Blog/post6/#1-block-doh-provider-domains","title":"1. Block DoH Provider Domains","text":"<p>Create a list of domains used by popular DoH providers (like Google, Cloudflare, and Mozilla) and configure Dnsmasq to block these domains.</p> <ol> <li> <p>Edit your <code>dnsmasq.conf</code> file:    </p><pre><code>sudo nano /etc/dnsmasq.conf\n</code></pre><p></p> </li> <li> <p>Add blocking rules:    Use the <code>address</code> directive to redirect DNS queries for these domains to an unreachable IP (e.g., <code>0.0.0.0</code>).</p> </li> </ol> <pre><code># Block popular DoH providers\naddress=/dns.google/0.0.0.0\naddress=/cloudflare-dns.com/0.0.0.0\naddress=/mozilla.cloudflare-dns.com/0.0.0.0\naddress=/dns.quad9.net/0.0.0.0\n</code></pre> <ol> <li>Save and close the file.</li> </ol>"},{"location":"Blog/post6/#2-restart-dnsmasq","title":"2. Restart Dnsmasq","text":"<p>After updating the configuration, restart Dnsmasq to apply the changes:</p> <pre><code>sudo systemctl restart dnsmasq\n</code></pre>"},{"location":"Blog/post6/#3-verify-the-blocking","title":"3. Verify the Blocking","text":"<p>You can test if the DoH domains are blocked by trying to resolve them:</p> <pre><code>nslookup dns.google\n</code></pre>"},{"location":"Blog/post6/#4-commonly-used-dns-over-https-domains","title":"4. Commonly used DNS over HTTPS - Domains","text":"<p>Here is a list of some commonly used DNS-over-HTTPS (DoH) domains and server IPs for popular providers like Google, Cloudflare, Quad9, and others. Blocking these can help prevent DoH traffic on your network.</p> <pre><code># 1. Google Public DNS\n     - dns.google\n     - dns.google.com\n\n# 2. Cloudflare DNS\n     - cloudflare-dns.com\n     - mozilla.cloudflare-dns.com\n\n# 3. Quad9\n     - dns.quad9.net\n\n# 4. Cisco OpenDNS\n     - doh.opendns.com\n\n# 5. NextDNS\n     - dns.nextdns.io\n\n# 6. AdGuard DNS\n     - dns.adguard.com\n     - dns-family.adguard.com\n\n# 7. CleanBrowsing DNS\n     - doh.cleanbrowsing.org\n\n# 8. Comodo Secure DNS\n     - doh.securedns.com\n\n# 9. Yandex DNS\n     - doh.yandex.net\n</code></pre> <p>If the setup is successful, these domains should resolve to <code>0.0.0.0</code>, effectively blocking access to them.</p>"},{"location":"Blog/post6/#5-additional-measures","title":"5. Additional Measures","text":"<p>Since some browsers or applications may still use hardcoded DoH IPs, blocking them entirely requires firewall rules:</p> <ol> <li> <p>Block DoH IPs with a firewall (e.g., <code>iptables</code> or <code>ufw</code>).</p> </li> <li> <p>Configure Group Policy for browsers: If managing a network, disable DoH in browsers through administrative policies, especially in environments where you have control over end-user devices.</p> </li> </ol> <p>This setup should help you control and prevent DNS over HTTPS usage effectively in your network.</p>"},{"location":"Blog/post7/","title":"Wireguard VPN tunnel","text":""},{"location":"Blog/post7/#wireguard-vpn-setup-guide","title":"WireGuard VPN Setup Guide","text":"<p>WireGuard is a fast, modern, and secure VPN that uses cutting-edge cryptography. This guide walks you through installing WireGuard, generating keys, configuring the VPN, and understanding the components involved \u2014 for both Debian/Ubuntu and Windows platforms.</p>"},{"location":"Blog/post7/#installation","title":"\ud83d\udee0\ufe0f Installation","text":""},{"location":"Blog/post7/#debian-ubuntu","title":"\ud83d\udc27 Debian / Ubuntu","text":"<pre><code>sudo apt update\nsudo apt install wireguard -y\n</code></pre> <p>Ensure your kernel supports WireGuard (Linux Kernel 5.6+ or install the wireguard-dkms package for older versions).</p>"},{"location":"Blog/post7/#windows","title":"\ud83e\ude9f Windows","text":"<ol> <li>Download the installer from https://www.wireguard.com/install/</li> <li>Install it with admin privileges.</li> <li>Launch the WireGuard GUI for configuration.</li> </ol>"},{"location":"Blog/post7/#key-generation","title":"\ud83d\udd10 Key Generation","text":""},{"location":"Blog/post7/#debian-ubuntu_1","title":"Debian / Ubuntu","text":"<pre><code>wg genkey | tee privatekey | wg pubkey &gt; publickey\n</code></pre> <ul> <li><code>privatekey</code> \u2013 Your private key (keep it secure)</li> <li><code>publickey</code> \u2013 Public key to share with your peers</li> </ul>"},{"location":"Blog/post7/#windows_1","title":"Windows","text":"<ol> <li>Open WireGuard GUI</li> <li>Click Add Tunnel \u2192 Add empty tunnel</li> <li>WireGuard will generate keys automatically</li> <li>You can export this configuration to <code>.conf</code> if needed</li> </ol>"},{"location":"Blog/post7/#configuration","title":"\u2699\ufe0f Configuration","text":"<p>WireGuard configurations consist of <code>[Interface]</code> (local settings) and <code>[Peer]</code> (remote peer settings).</p>"},{"location":"Blog/post7/#example-debian-ubuntu-etcwireguardwg0conf","title":"Example: Debian / Ubuntu \u2013 <code>/etc/wireguard/wg0.conf</code>","text":"<pre><code>[Interface]\nPrivateKey = &lt;your_private_key&gt;\nAddress = 10.0.0.1/24\nListenPort = 51820\n\n[Peer]\nPublicKey = &lt;peer_public_key&gt;\nAllowedIPs = 10.0.0.2/32\nEndpoint = &lt;peer_public_ip&gt;:51820\nPersistentKeepalive = 25\n</code></pre> <p>Replace <code>&lt;your_private_key&gt;</code> and <code>&lt;peer_public_key&gt;</code> with actual keys.</p>"},{"location":"Blog/post7/#example-windows-via-gui","title":"Example: Windows (via GUI)","text":"<ul> <li>Use Add Tunnel \u2192 Add empty tunnel</li> <li>Enter the same parameters as in the Linux config</li> <li>Or import <code>.conf</code> files directly</li> </ul>"},{"location":"Blog/post7/#starting-and-stopping-wireguard","title":"\ud83d\ude80 Starting and Stopping WireGuard","text":""},{"location":"Blog/post7/#debian-ubuntu_2","title":"Debian / Ubuntu","text":"<pre><code>sudo wg-quick up wg0     # Start VPN\nsudo wg-quick down wg0   # Stop VPN\n</code></pre> <p><code>wg0</code> is the default config file name, located in <code>/etc/wireguard/wg0.conf</code></p>"},{"location":"Blog/post7/#windows_2","title":"Windows","text":"<ul> <li>Open the WireGuard app</li> <li>Select the tunnel</li> <li>Click Activate to start / Deactivate to stop</li> </ul>"},{"location":"Blog/post7/#configuration-components-explained","title":"\ud83e\udde9 Configuration Components Explained","text":""},{"location":"Blog/post7/#interface","title":"[Interface]","text":"Field Description PrivateKey Private key for this device Address IP address of this device in VPN subnet ListenPort Port to listen for incoming tunnels (default 51820)"},{"location":"Blog/post7/#peer","title":"[Peer]","text":"Field Description PublicKey Public key of remote peer AllowedIPs IPs allowed to route through this peer (can be 0.0.0.0/0) Endpoint Public IP &amp; port of the peer (<code>&lt;ip&gt;:51820</code>) PersistentKeepalive Helps behind NAT \u2013 keep-alive packets every X seconds"},{"location":"Blog/post7/#useful-commands-linux","title":"\ud83d\udd0d Useful Commands (Linux)","text":"<pre><code>sudo wg show         # Show current VPN status\nip a                 # Show interface details\nsudo systemctl enable wg-quick@wg0  # Enable at boot\n</code></pre>"},{"location":"Blog/post7/#default-file-locations","title":"\ud83d\udcc1 Default File Locations","text":"OS Path Linux <code>/etc/wireguard/wg0.conf</code> Windows Handled by GUI or export"},{"location":"Blog/post7/#how-it-works","title":"\ud83e\udde0 How It Works","text":"<ol> <li>Each device creates a public/private keypair.</li> <li>Peers authenticate using each other's public keys.</li> <li>Only traffic from allowed IPs is routed through the VPN.</li> <li>The encrypted tunnel allows secure communication between peers.</li> </ol>"},{"location":"Blog/post7/#best-practices","title":"\ud83d\udd12 Best Practices","text":"<ul> <li>Never share your private key.</li> <li>Use a strong firewall rule to allow only UDP 51820.</li> <li>If using NAT or behind a router, add <code>PersistentKeepalive = 25</code> on the client config.</li> </ul>"},{"location":"Blog/post7/#references","title":"\ud83d\udcda References","text":"<ul> <li>WireGuard Official Website</li> <li>wg-quick Manual</li> <li>Linux Man Page for wg</li> </ul> <p>Documented by Santhosh Murugesan \u2013 For internal &amp; learning use.</p>"},{"location":"Blog/post8/","title":"Can Netcat (nc) Replace SSH? Not Quite \u2013 But Its Still a Beast","text":""},{"location":"Blog/post8/#can-netcat-nc-replace-ssh-not-quite-but-its-still-a-beast","title":"Can Netcat (nc) Replace SSH? Not Quite \u2013 But It's Still a Beast \ud83e\udde0\ud83d\udca5","text":"<p>If you've ever stumbled upon the <code>nc</code> (Netcat) command and thought, \"Wow, this feels like SSH on steroids!\" \u2014 you're not wrong. Netcat is one of the most underrated tools in networking, offering raw power and versatility. But can it replace SSH? Let's dig in.</p>"},{"location":"Blog/post8/#what-is-netcat","title":"\ud83e\uddea What Is Netcat?","text":"<p>Netcat, or <code>nc</code>, is often called the \"Swiss army knife\" of networking. It can:</p> <ul> <li>Open TCP/UDP connections</li> <li>Listen on ports</li> <li>Transfer files</li> <li>Perform banner grabbing</li> <li>Create simple backdoors</li> </ul> <p>It\u2019s light, fast, and doesn\u2019t require a complex setup. But that simplicity is also what sets it apart from SSH.</p>"},{"location":"Blog/post8/#one-of-sample-thing-we-can-do-with-netcat","title":"One of sample thing we can do with Netcat:","text":""},{"location":"Blog/post8/#remote-command-execution-with-netcat","title":"\ud83d\ude80 Remote Command Execution with Netcat","text":"<p>Here\u2019s where things get spicy. You can remotely control a machine using just two lines of code:</p>"},{"location":"Blog/post8/#on-the-target-machine-listener","title":"On the target machine (listener):","text":"<pre><code>nc -lvp 4444 -e /bin/bash\n</code></pre> <p>This sets up a listener on port 4444 and serves a bash shell to any device that connects.</p>"},{"location":"Blog/post8/#on-the-controller-machine-attackeradmin","title":"On the controller machine (attacker/admin):","text":"<pre><code>nc &lt;target-ip&gt; 4444\n</code></pre> <p>Boom! You\u2019re inside the target\u2019s shell \u2014 typing commands remotely as if you were there.</p>"},{"location":"Blog/post8/#how-it-differs-from-ssh","title":"\u2699\ufe0f How It Differs from SSH","text":"Feature SSH Netcat (<code>nc</code>) Encryption Yes (very secure) No (plain text, risky on open nets) Authentication Strong (keys/passwords) None by default Use Case Admin access, secure sessions Simple data pipes, quick tasks Interactive Yes Yes, but manual setup <p>Netcat is not a replacement for SSH, but it complements it in the hands of a smart user. It doesn\u2019t aim to be secure; it aims to be flexible.</p>"},{"location":"Blog/post8/#why-learn-netcat","title":"\ud83d\udc68\u200d\ud83d\udcbb Why Learn Netcat?","text":"<p>Knowing <code>nc</code> means you understand how ports, sockets, and remote execution actually work \u2014 without all the abstraction. It's like learning to drive a stick before an automatic.</p> <p>If you\u2019re into:</p> <ul> <li>Ethical hacking</li> <li>Pentesting</li> <li>Debugging networks</li> <li>Learning real-world protocols</li> </ul> <p>...then Netcat is a must-have in your toolkit.</p>"},{"location":"Blog/post8/#final-thoughts","title":"\ud83d\udcad Final Thoughts","text":"<p>No, Netcat can\u2019t replace SSH. But it can do things SSH never will, especially in environments where lightweight, fast interaction matters more than security.</p> <p>And hey \u2014 you don\u2019t need to be a hacker to learn this stuff. Just knowing simple networking tools like Netcat can already make you a powerful ethical hacker or a better network engineer.</p> <p>\u201cIn the world of tech, it\u2019s not about how fancy your tools are, but how well you know how to use the simplest ones.\u201d</p> <p>Written by Santhosh Murugesan \u2013 Sharing real tricks from the CLI trenches.</p>"},{"location":"Blog/post9/","title":"AI Model (Gemma 3) in N100 mini PC","text":""},{"location":"Blog/post9/#running-gemma-3-locally-on-intel-n100-8gb-ram","title":"Running Gemma 3 Locally on Intel N100 (8GB RAM)","text":""},{"location":"Blog/post9/#complete-installation-guide-ollama-open-webui-and-low-memory-airllm-style-setup","title":"Complete Installation Guide: Ollama + Open WebUI and Low-Memory AirLLM-Style Setup","text":""},{"location":"Blog/post9/#what-you-will-build","title":"What You Will Build","text":"<p>With this you can set up two local AI stacks, Choose the one fits for you:</p> <ol> <li>Ollama + Open WebUI</li> <li>Low-memory AirLLM-style CPU setup</li> </ol>"},{"location":"Blog/post9/#system-requirements","title":"System Requirements","text":"<ul> <li>OS: Ubuntu 22.04 / Debian 12</li> <li>CPU: Intel N100</li> <li>RAM: 8GB</li> <li>Storage: 20GB free</li> <li>GPU: Not required</li> </ul>"},{"location":"Blog/post9/#ollama-open-webui","title":"Ollama + Open WebUI","text":""},{"location":"Blog/post9/#1-base-system-preparation","title":"1. Base System Preparation","text":"<pre><code>sudo apt update &amp;&amp; sudo apt -y upgrade\nsudo apt -y install curl git python3 python3-venv python3-pip htop\n</code></pre>"},{"location":"Blog/post9/#2-install-docker","title":"2. Install Docker","text":"<pre><code>curl -fsSL https://get.docker.com | sudo sh\nsudo usermod -aG docker $USER\nnewgrp docker\ndocker --version\n</code></pre>"},{"location":"Blog/post9/#3-install-ollama","title":"3. Install Ollama","text":"<pre><code>curl -fsSL https://ollama.com/install.sh | sh\nsudo systemctl enable --now ollama\nollama --version\n</code></pre>"},{"location":"Blog/post9/#4-download-gemma-3","title":"4. Download Gemma 3","text":"<pre><code>ollama pull gemma3:1b\n# or\nollama pull gemma3:4b\n</code></pre> <p>Test: </p><pre><code>ollama run gemma3:1b\n</code></pre><p></p>"},{"location":"Blog/post9/#5-install-open-webui","title":"5. Install Open WebUI","text":"<pre><code>docker run -d \\\n  -p 3000:8080 \\\n  --add-host=host.docker.internal:host-gateway \\\n  -v open-webui:/app/backend/data \\\n  --name open-webui \\\n  --restart always \\\n  ghcr.io/open-webui/open-webui:main\n</code></pre> <p>Open: </p><pre><code>xdg-open http://localhost:3000\n</code></pre><p></p>"},{"location":"Blog/post9/#low-memory-airllm-style-cpu-setup","title":"Low-memory AirLLM-style CPU setup","text":""},{"location":"Blog/post9/#1-create-virtual-environment","title":"1. Create virtual environment","text":"<pre><code>mkdir -p ~/gemma_air_ui\ncd ~/gemma_air_ui\npython3 -m venv .venv\nsource .venv/bin/activate\n</code></pre> <p>Install dependencies: </p><pre><code>pip install -U pip wheel\npip install -U transformers accelerate safetensors sentencepiece gradio\n</code></pre><p></p>"},{"location":"Blog/post9/#2-hugging-face-login","title":"2. Hugging Face Login","text":"<pre><code>pip install -U huggingface_hub\nhuggingface-cli login\n</code></pre>"},{"location":"Blog/post9/#3-create-chatbot-ui","title":"3. Create Chatbot UI","text":"<p>Create <code>app.py</code> and paste the code the below code.</p> <pre><code>import os\nimport gradio as gr\nimport torch\nfrom transformers import AutoTokenizer, AutoModelForCausalLM\n\nMODEL_ID = os.environ.get(\"MODEL_ID\", \"google/gemma-3-4b-it\")\nOFFLOAD_DIR = os.environ.get(\"OFFLOAD_DIR\", \"./offload\")\n\ntokenizer = AutoTokenizer.from_pretrained(MODEL_ID)\n\nmodel = AutoModelForCausalLM.from_pretrained(\n    MODEL_ID,\n    device_map=\"auto\",\n    offload_folder=OFFLOAD_DIR,\n    torch_dtype=torch.float32,\n    low_cpu_mem_usage=True,\n)\n\ndef chat(user_msg, history):\n    if history is None:\n        history = []\n\n    prompt = \"\"\n    for u, a in history:\n        prompt += f\"User: {u}\\nAssistant: {a}\\n\"\n    prompt += f\"User: {user_msg}\\nAssistant:\"\n\n    inputs = tokenizer(prompt, return_tensors=\"pt\")\n    outputs = model.generate(\n        **inputs,\n        max_new_tokens=256,\n        do_sample=True,\n        temperature=0.7,\n        top_p=0.9,\n    )\n\n    text = tokenizer.decode(outputs[0], skip_special_tokens=True)\n    answer = text.split(\"Assistant:\", 1)[-1].strip()\n    history.append((user_msg, answer))\n    return history, history\n\nwith gr.Blocks(title=\"Gemma 3 CPU Chat\") as demo:\n    gr.Markdown(\"## Gemma 3 Chatbot (CPU + Disk Offload)\")\n    chatbot = gr.Chatbot(height=420)\n    msg = gr.Textbox(label=\"Type your message\")\n    state = gr.State([])\n    send = gr.Button(\"Send\")\n\n    send.click(chat, [msg, state], [chatbot, state])\n    msg.submit(chat, [msg, state], [chatbot, state])\n\ndemo.launch(server_name=\"0.0.0.0\", server_port=7860)\n</code></pre>"},{"location":"Blog/post9/#4-run-chatbot","title":"4. Run Chatbot","text":"<pre><code>export MODEL_ID=\"google/gemma-3-4b-it\"\nexport OFFLOAD_DIR=\"$HOME/gemma_air_ui/offload\"\nmkdir -p \"$OFFLOAD_DIR\"\npython app.py\n</code></pre> <p>Open: </p><pre><code>xdg-open http://localhost:7860\n</code></pre><p></p>"},{"location":"Blog/post9/#conclusion","title":"Conclusion","text":"<p>You now have Gemma 3 running locally on Intel N100 using: - Ollama + Open WebUI - Low-memory CPU chatbot UI</p>"},{"location":"TechGuide/dnsmasq/dhcp-config/","title":"DHCP Configuration","text":""},{"location":"TechGuide/dnsmasq/dhcp-config/#dhcp-server-only-on-ubuntu-2004-and-above-versions","title":"DHCP Server (Only on Ubuntu 20.04 and above versions)","text":"<p>This guide provides step-by-step instructions to set up a DHCP server using <code>dnsmasq</code> on a specific network interface.</p>"},{"location":"TechGuide/dnsmasq/dhcp-config/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have the following:</p> <ul> <li>A Linux machine with a network interface for serving DHCP.</li> <li><code>dnsmasq</code> installed.</li> <li>Sudo privileges on the machine.</li> </ul>"},{"location":"TechGuide/dnsmasq/dhcp-config/#step-1-install-dnsmasq","title":"Step 1: Install Dnsmasq","text":"<p>To install <code>dnsmasq</code>, use your distribution's package manager. On a Debian/Ubuntu-based system, you can run:</p> <pre><code>sudo apt update\nsudo apt install dnsmasq\n</code></pre>"},{"location":"TechGuide/dnsmasq/dhcp-config/#step-2-list-interface","title":"Step 2: List interface","text":"<p>To list avaialbe interface in the linux machine, you can run:</p> <pre><code>ip a\n</code></pre> <p>This will give the network interface name</p>"},{"location":"TechGuide/dnsmasq/dhcp-config/#step-3-configure-dnsmasq","title":"Step 3: Configure dnsmasq","text":"<p>Edit the dnsmasq configuration file, usually located at <code>/etc/dnsmasq.conf</code> (which is the default configuration). But the best advised method is to create a new configuration file under <code>/etc/dnsmasq.d</code>. Here's a basic configuration for dnsmasq as a DHCP server:</p> <pre><code># /etc/dnsmasq.d/eth0-dnscpser.conf\n\n# Enable DHCP server on a specific interface\ninterface=eth0   # Replace with your network interface\n\n# Specify the range of IP addresses to allocate for DHCP clients\ndhcp-range=192.168.1.100,192.168.1.150,12h   # Start, end of range, lease time\n\n# Define the default gateway for DHCP clients\ndhcp-option=option:router,192.168.1.1\n\n# Define DNS server for clients\ndhcp-option=option:dns-server,8.8.8.8,8.8.4.4\n\n# Define subnet mask for the network\ndhcp-option=option:netmask,255.255.255.0\n\n# Optional: Define a static IP mapping for specific clients\ndhcp-host=00:11:22:33:44:55,192.168.1.50   # MAC address and static IP\n</code></pre>"},{"location":"TechGuide/dnsmasq/dhcp-config/#step-4-start-and-enable-dnsmasq","title":"Step 4: Start and Enable dnsmasq","text":"<p>Once the configuration is ready, restart the dnsmasq service and enable it to start on boot:</p> <pre><code>sudo systemctl restart dnsmasq\nsudo systemctl enable dnsmasq\n</code></pre>"},{"location":"TechGuide/dnsmasq/dhcp-config/#step-5-verify-the-dhcp-lease","title":"Step 5: Verify the DHCP Lease","text":"<p>To verify that dnsmasq is working correctly, you can check the DHCP leases file, usually located at /var/lib/misc/dnsmasq.leases. This file contains information about the current DHCP leases.</p> <pre><code>cat /var/lib/misc/dnsmasq.leases\n</code></pre>"},{"location":"TechGuide/dnsmasq/dhcp-config/#step-6-troubleshooting","title":"Step 6: Troubleshooting","text":"<p>If things aren\u2019t working as expected, check the system logs for dnsmasq messages to see if there are any errors: </p><pre><code>sudo journalctl -xe | grep dnsmasq\n</code></pre><p></p> <p>This setup provides a basic dnsmasq-based DHCP server that serves IP addresses in the range 192.168.1.100 to 192.168.1.150 for 12 hours. You can adjust this based on your requirements.</p> <p>Note</p> <p>If you face Port 53 already in use error Click --&gt; Link &lt;-- this to redirect to the Blog post</p>"},{"location":"TechGuide/dnsmasq/dns-filtering/","title":"DNS Filtering","text":"<p>You can use <code>dnsmasq</code> to implement DNS filtering by blocking or redirecting specific domain names. This feature is useful for network-wide ad blocking, restricting access to malicious or unwanted websites, or redirecting specific domains to a different IP address.</p> <p>Here\u2019s how you can set up DNS filtering using <code>dnsmasq</code>:</p>"},{"location":"TechGuide/dnsmasq/dns-filtering/#1-block-specific-domains","title":"1. Block Specific Domains","text":"<p>To block certain domains, you can configure <code>dnsmasq</code> to return a \"non-routable\" IP address (like <code>0.0.0.0</code> or <code>127.0.0.1</code>) whenever someone tries to access a blocked domain. This effectively prevents access to those domains.</p> <p>Edit the <code>/etc/dnsmasq.conf</code> file or create new file under <code>/etc/dnsmasq.d</code> and add entries for the domains you want to block:</p> <pre><code># /etc/dnsmasq.d/dns-filtering.conf\n\n# Block specific domains by returning a non-routable IP (e.g., 0.0.0.0)\naddress=/example.com/0.0.0.0\naddress=/ads.example.com/0.0.0.0\naddress=/malicious-site.com/0.0.0.0\n</code></pre>"},{"location":"TechGuide/dnsmasq/dns-filtering/#2-redirect-specific-domains","title":"2. Redirect Specific Domains","text":"<p>You can also use <code>dnsmasq</code> to redirect requests for specific domains to another IP address. This is useful when you want to redirect traffic for certain domains to your local server or another web page.</p> <p>In the <code>dnsmasq.conf</code> file:</p> <pre><code># Redirect specific domains to a different IP\naddress=/example.com/192.168.1.100\naddress=/myinternalapp.local/192.168.1.50\n</code></pre>"},{"location":"TechGuide/dnsmasq/dns-filtering/#3-restart-dnsmasq","title":"3. Restart dnsmasq","text":"<p>After updating the configuration, restart <code>dnsmasq</code> to apply the changes:</p> <pre><code>sudo systemctl restart dnsmasq\n</code></pre>"},{"location":"TechGuide/dnsmasq/dns-filtering/#4-testing","title":"4. Testing","text":"<p>To test whether the DNS filtering is working, you can use <code>dig</code> or <code>nslookup</code> to query the blocked or redirected domain names:</p> <pre><code>dig example.com\n</code></pre> <p>If the configuration is correct, you'll see the blocked domain resolving to <code>0.0.0.0</code>, or the redirected domain resolving to the IP address you specified.</p>"},{"location":"TechGuide/dnsmasq/dns-filtering/#5-logs-and-troubleshooting","title":"5. Logs and Troubleshooting","text":"<p>If you\u2019re experiencing issues with DNS filtering, you can check the <code>dnsmasq</code> logs to see what\u2019s happening. Enable detailed logging in <code>/etc/dnsmasq.conf</code>:</p> <pre><code>log-queries\nlog-facility=/var/log/dnsmasq.log\n</code></pre> <p>After enabling logs, restart <code>dnsmasq</code>, and you can monitor the queries:</p> <pre><code>tail -f /var/log/dnsmasq.log\n</code></pre> <p>This setup provides simple DNS filtering for your network using <code>dnsmasq</code>.</p> <p>Note</p> <p>In case you want to block or redirect domain in a particuler interface add <code>interface=&lt;interface_name&gt;</code> in the configuration file which bind the block and filtering configuration to that particular interface</p>"},{"location":"TechGuide/dnsmasq/split-dns/","title":"Split DNS","text":"<p>To set up split DNS with Dnsmasq, you need to configure different DNS resolutions for internal and external network users. Split DNS is commonly used to handle different DNS responses based on where the request originates. Here\u2019s a guide on configuring Dnsmasq for split DNS.</p>"},{"location":"TechGuide/dnsmasq/split-dns/#prerequisites","title":"Prerequisites","text":"<ul> <li>Dnsmasq installed on your server (if not installed, use <code>sudo apt-get install dnsmasq</code>).</li> <li>Network interfaces configured with internal and external IPs.</li> </ul>"},{"location":"TechGuide/dnsmasq/split-dns/#step-1-configure-dnsmasq","title":"Step 1: Configure Dnsmasq","text":"<ol> <li>Edit/Create the <code>.conf</code> file    Open the Dnsmasq configuration file, usually located at <code>/etc/dnsmasq.conf</code> or Create a new file under <code>/etc/dnsmasq.d/</code>:    <pre><code>sudo nano /etc/dnsmasq.conf\n</code></pre></li> </ol> Note <p>Creating New file under the <code>`/etc/dnsmasq.d/</code> is highly recommended</p> <ol> <li> <p>Define DNS server settings for internal and external networks:    Use the following configuration options in <code>dnsmasq.conf</code>:</p> </li> <li> <p>Define internal DNS resolutions:      Specify internal domains (or subdomains) that should resolve differently for users on the internal network. For example, suppose your internal domain is <code>internal.example.com</code>, and internal requests should resolve to the local IP <code>192.168.1.10</code>:</p> <pre><code># Serve internal.example.com requests with the internal DNS server\nserver=/internal.example.com/192.168.1.10\n</code></pre> </li> <li> <p>Configure external DNS resolutions:      Define the public DNS server for other domains. For example, using Google DNS for all other requests:</p> <pre><code># External DNS for all other queries\nserver=8.8.8.8\n</code></pre> </li> <li> <p>Bind Dnsmasq to Specific Interfaces:    If your server has multiple network interfaces (e.g., <code>eth0</code> for external and <code>eth1</code> for internal), you can bind Dnsmasq to listen on the internal interface only:</p> </li> </ol> <pre><code># Listen on internal interface\ninterface=eth1\n</code></pre> <ol> <li>Add Local DNS Entries (Optional):    For specific hostnames in the internal domain, you can use the <code>address</code> directive. For example:</li> </ol> <pre><code># Map a specific hostname to an IP\naddress=/server1.internal.example.com/192.168.1.20\n</code></pre>"},{"location":"TechGuide/dnsmasq/split-dns/#step-2-restart-dnsmasq","title":"Step 2: Restart Dnsmasq","text":"<p>After editing the configuration, restart the Dnsmasq service to apply changes:</p> <pre><code>sudo systemctl restart dnsmasq\n</code></pre>"},{"location":"TechGuide/dnsmasq/split-dns/#step-3-testing-the-configuration","title":"Step 3: Testing the Configuration","text":"<ol> <li> <p>From an internal device:    Run the following to verify the internal DNS resolution:    </p><pre><code>nslookup server1.internal.example.com\n</code></pre><p></p> </li> <li> <p>From an external device:    Verify the DNS resolves to the public IP:    </p><pre><code>nslookup example.com\n</code></pre><p></p> </li> </ol> <p>This setup will direct internal DNS requests for <code>internal.example.com</code> to the internal DNS server while other requests go to the external DNS (Google DNS in this example). Let me know if you need further customization!</p>"},{"location":"TechGuide/iptables/brute-force-block/","title":"\ud83d\udee1\ufe0f Combining iptables + fail2ban for Smart Firewall Protection","text":""},{"location":"TechGuide/iptables/brute-force-block/#combining-iptables-fail2ban-for-smart-firewall-protection","title":"\ud83d\udee1\ufe0f Combining iptables + fail2ban for Smart Firewall Protection","text":"<p>fail2ban is a powerful intrusion prevention system that works in tandem with iptables to monitor logs and dynamically block IPs that exhibit malicious behavior (e.g., repeated failed logins, port scans, etc.).</p> <p>This guide shows how to set up and configure <code>fail2ban</code> with <code>iptables</code>, along with various blocking configurations.</p>"},{"location":"TechGuide/iptables/brute-force-block/#what-you-need","title":"\ud83d\udce6 What You Need","text":"<pre><code>sudo apt update\nsudo apt install fail2ban iptables -y\n</code></pre>"},{"location":"TechGuide/iptables/brute-force-block/#how-it-works","title":"\ud83d\udd27 How It Works","text":"<ol> <li>fail2ban monitors logs (e.g., <code>/var/log/auth.log</code>)</li> <li>On suspicious patterns (like failed SSH attempts), it bans the offending IP</li> <li>Banning is done via <code>iptables</code> rules (default action)</li> </ol>"},{"location":"TechGuide/iptables/brute-force-block/#enable-ip-forwarding-if-acting-as-a-gateway","title":"\ud83e\uddf0 Enable IP Forwarding (if acting as a gateway)","text":"<pre><code>echo 1 &gt; /proc/sys/net/ipv4/ip_forward\nsudo sysctl -w net.ipv4.ip_forward=1\n</code></pre>"},{"location":"TechGuide/iptables/brute-force-block/#basic-configuration","title":"\ud83d\udee0 Basic Configuration","text":""},{"location":"TechGuide/iptables/brute-force-block/#1-main-config-etcfail2banjaillocal","title":"1\ufe0f\u20e3 Main config: <code>/etc/fail2ban/jail.local</code>","text":"<p>Example to protect SSH:</p> <pre><code>[sshd]\nenabled = true\nport = ssh\nfilter = sshd\nlogpath = /var/log/auth.log\nmaxretry = 5\nbantime = 3600\nfindtime = 600\nbackend = systemd\n</code></pre>"},{"location":"TechGuide/iptables/brute-force-block/#2-set-default-ban-action","title":"2\ufe0f\u20e3 Set Default Ban Action","text":"<p>In <code>[DEFAULT]</code> section of <code>jail.local</code>, use:</p> <pre><code>banaction = iptables-multiport\nbanaction_allports = iptables-allports\n</code></pre> <p>Available actions include:</p> <ul> <li><code>iptables</code> \u2013 basic</li> <li><code>iptables-multiport</code> \u2013 blocks multiple ports</li> <li><code>iptables-allports</code> \u2013 bans an IP across all ports</li> </ul>"},{"location":"TechGuide/iptables/brute-force-block/#ban-action-examples","title":"\ud83d\udd04 Ban Action Examples","text":""},{"location":"TechGuide/iptables/brute-force-block/#block-ssh-bruteforce","title":"\ud83d\udeab Block SSH Bruteforce","text":"<pre><code>[sshd]\nenabled = true\nport = ssh\nfilter = sshd\nlogpath = /var/log/auth.log\nmaxretry = 3\nbantime = 3600\n</code></pre>"},{"location":"TechGuide/iptables/brute-force-block/#block-http-auth-failures","title":"\ud83d\udd10 Block HTTP Auth Failures","text":"<pre><code>[apache-auth]\nenabled = true\nport = http,https\nfilter = apache-auth\nlogpath = /var/log/apache2/error.log\nmaxretry = 3\n</code></pre>"},{"location":"TechGuide/iptables/brute-force-block/#custom-fail2ban-action-for-logging-drop","title":"\ud83d\udd27 Custom Fail2ban Action for Logging + Drop","text":"<p>Create <code>/etc/fail2ban/action.d/iptables-logdrop.conf</code>:</p> <pre><code>[Definition]\nactionstart = &lt;iptables&gt; -N f2b-&lt;name&gt;\n              &lt;iptables&gt; -A f2b-&lt;name&gt; -j RETURN\n              &lt;iptables&gt; -I INPUT -p &lt;protocol&gt; -j f2b-&lt;name&gt;\n\nactionban = &lt;iptables&gt; -I f2b-&lt;name&gt; 1 -s &lt;ip&gt; -j LOG --log-prefix \"F2B-BLOCK: \"\n            &lt;iptables&gt; -I f2b-&lt;name&gt; 2 -s &lt;ip&gt; -j DROP\n\nactionunban = &lt;iptables&gt; -D f2b-&lt;name&gt; -s &lt;ip&gt; -j DROP\n              &lt;iptables&gt; -D f2b-&lt;name&gt; -s &lt;ip&gt; -j LOG --log-prefix \"F2B-BLOCK: \"\n\n[Init]\nname = default\n</code></pre> <p>Use it in jail like:</p> <pre><code>[sshd]\nenabled = true\nbanaction = iptables-logdrop\n</code></pre>"},{"location":"TechGuide/iptables/brute-force-block/#useful-commands","title":"\ud83d\udd0d Useful Commands","text":""},{"location":"TechGuide/iptables/brute-force-block/#view-banned-ips","title":"View banned IPs:","text":"<pre><code>sudo fail2ban-client status sshd\n</code></pre>"},{"location":"TechGuide/iptables/brute-force-block/#manually-banunban-an-ip","title":"Manually ban/unban an IP:","text":"<pre><code>sudo fail2ban-client set sshd banip 192.168.1.50\nsudo fail2ban-client set sshd unbanip 192.168.1.50\n</code></pre>"},{"location":"TechGuide/iptables/brute-force-block/#reload-fail2ban","title":"Reload fail2ban:","text":"<pre><code>sudo systemctl restart fail2ban\n</code></pre>"},{"location":"TechGuide/iptables/brute-force-block/#make-bans-persistent-optional","title":"\ud83d\udd01 Make Bans Persistent (Optional)","text":"<p>Fail2ban bans are not persistent after reboot. To make them persistent:</p> <ol> <li> <p>Use <code>iptables-persistent</code>:    </p><pre><code>sudo apt install iptables-persistent\nsudo netfilter-persistent save\n</code></pre><p></p> </li> <li> <p>Or reload fail2ban on boot with <code>systemd</code> hooks.</p> </li> </ol>"},{"location":"TechGuide/iptables/brute-force-block/#summary","title":"\ud83e\udde0 Summary","text":"Feature Enabled by Dynamic IP banning \u2705 fail2ban Protocol-based filtering \u2705 iptables All-port blocking \u2705 <code>iptables-allports</code> Logging &amp; alerts \u2705 custom actions <p>Fail2ban and iptables form a reactive + preventive defense mechanism that protects against a wide range of attacks with minimal resources.</p> <p>Written by Santhosh Murugesan \u2013 Automating your firewall so you sleep better at night.</p>"},{"location":"TechGuide/iptables/domain-based/","title":"\ud83d\udd12 Domain-Based Blocking/Forwarding using iptables, ipset, and dnsmasq","text":""},{"location":"TechGuide/iptables/domain-based/#domain-based-blockingforwarding-using-iptables-ipset-and-dnsmasq","title":"\ud83d\udd12 Domain-Based Blocking/Forwarding using iptables, ipset, and dnsmasq","text":"<p>This guide shows how to block domains using a powerful combo: <code>iptables</code>, <code>ipset</code>, and <code>dnsmasq</code>. This method allows you to dynamically block domains by resolving them to IPs and adding them to a blacklist used by <code>iptables</code>.</p>"},{"location":"TechGuide/iptables/domain-based/#overview","title":"\ud83e\udde9 Overview","text":""},{"location":"TechGuide/iptables/domain-based/#components-used","title":"\ud83d\udd17 Components Used:","text":"<ul> <li>dnsmasq \u2013 Lightweight DNS forwarder that can populate <code>ipset</code> with resolved IPs.</li> <li>ipset \u2013 Creates fast and dynamic IP sets for firewall filtering.</li> <li>iptables \u2013 Uses <code>ipset</code> to drop traffic to blocked IPs.</li> </ul>"},{"location":"TechGuide/iptables/domain-based/#step-by-step-setup","title":"\ud83d\udee0 Step-by-Step Setup","text":""},{"location":"TechGuide/iptables/domain-based/#1-install-required-packages","title":"1\ufe0f\u20e3 Install Required Packages","text":"<pre><code>sudo apt update\nsudo apt install dnsmasq ipset iptables -y\n</code></pre>"},{"location":"TechGuide/iptables/domain-based/#2-create-an-ip-set-for-blocked-domains","title":"2\ufe0f\u20e3 Create an IP Set for Blocked Domains","text":"<pre><code>sudo ipset create blacklist hash:ip\n</code></pre> <p>To make it persistent across reboots, consider using <code>/etc/ipset.conf</code>.</p>"},{"location":"TechGuide/iptables/domain-based/#3-configure-iptables-to-drop-matching-ips","title":"3\ufe0f\u20e3 Configure iptables to Drop Matching IPs","text":"<pre><code>sudo iptables -I OUTPUT -m set --match-set blacklist dst -j DROP\nsudo iptables -I FORWARD -m set --match-set blacklist dst -j DROP\n</code></pre> <p>This drops all outgoing and forwarded traffic to any IP in the <code>blacklist</code> ipset.</p>"},{"location":"TechGuide/iptables/domain-based/#4-configure-dnsmasq-to-populate-ipset","title":"4\ufe0f\u20e3 Configure dnsmasq to Populate ipset","text":"<p>Edit or create <code>/etc/dnsmasq.d/ipset.conf</code> and add:</p> <pre><code>ipset=/example.com/blacklist\nipset=/ads.example.net/blacklist\nipset=/tracking.badsite.com/blacklist\n</code></pre> <p>You can add as many domains as you like. All resolved IPs will be pushed to the <code>blacklist</code> ipset.</p>"},{"location":"TechGuide/iptables/domain-based/#5-enable-and-restart-dnsmasq","title":"5\ufe0f\u20e3 Enable and Restart dnsmasq","text":"<pre><code>sudo systemctl restart dnsmasq\nsudo systemctl enable dnsmasq\n</code></pre> <p>Ensure <code>dnsmasq</code> is not being overridden by another DNS service like <code>systemd-resolved</code>.</p>"},{"location":"TechGuide/iptables/domain-based/#6-test-the-setup","title":"6\ufe0f\u20e3 Test the Setup","text":"<p>Try to <code>ping</code> or <code>curl</code> one of the blocked domains:</p> <pre><code>ping example.com\ncurl http://example.com\n</code></pre> <p>You\u2019ll see either no response or the connection failing due to the <code>iptables</code> drop rule.</p> <p>Check the IP set:</p> <pre><code>sudo ipset list blacklist\n</code></pre>"},{"location":"TechGuide/iptables/domain-based/#why-this-is-awesome","title":"\ud83e\udde0 Why This Is Awesome","text":"<ul> <li>Dynamically blocks domains based on DNS</li> <li>Works at the firewall level (not just browser)</li> <li>No need for bulky proxy servers</li> <li>Great for ad-blocking, malicious domain filtering, etc.</li> </ul>"},{"location":"TechGuide/iptables/domain-based/#tips-notes","title":"\ud83d\udca1 Tips &amp; Notes","text":"<ul> <li>You can periodically update the domain list from a public blocklist using a cron job.</li> <li>Combine with <code>LOG</code> rules in iptables to log blocked access attempts.</li> <li>Works great on embedded systems and low-resource routers.</li> </ul>"},{"location":"TechGuide/iptables/domain-based/#make-ipset-persistent-optional","title":"\ud83d\udd04 Make ipset Persistent (Optional)","text":"<p>You can store active sets to reload on boot:</p> <pre><code>sudo ipset save &gt; /etc/ipset.conf\n</code></pre> <p>Then add to <code>/etc/rc.local</code> or equivalent startup script:</p> <pre><code>ipset restore &lt; /etc/ipset.conf\n</code></pre>"},{"location":"TechGuide/iptables/domain-based/#conclusion","title":"\u2705 Conclusion","text":"<p>This method gives you fine-grained domain control at the network layer. Lightweight, fast, and effective \u2014 perfect for home firewalls, edge devices, or server-side protections.</p> <p>Written by Santhosh Murugesan \u2013 Smarter Networking, One Rule at a Time.</p>"},{"location":"TechGuide/iptables/masquerade/","title":"\ud83d\udd00 Understanding IP Masquerading with iptables (NAT Configuration)","text":""},{"location":"TechGuide/iptables/masquerade/#understanding-ip-masquerading-with-iptables-nat-configuration","title":"\ud83d\udd00 Understanding IP Masquerading with iptables (NAT Configuration)","text":"<p>IP Masquerading using <code>iptables</code> is a powerful technique for enabling multiple devices on a private network to access the internet using a single public IP. This guide will walk through what it is, how it works, and how to configure it using the <code>MASQUERADE</code> target.</p>"},{"location":"TechGuide/iptables/masquerade/#what-is-ip-masquerading","title":"\ud83e\udde0 What is IP Masquerading?","text":"<p>IP Masquerading is a form of Source NAT (SNAT). It rewrites the source IP address of outgoing packets to the public IP of the gateway (usually your router or firewall) so that internal devices can reach the internet.</p>"},{"location":"TechGuide/iptables/masquerade/#why-use-masquerade","title":"\ud83d\udd27 Why Use MASQUERADE?","text":"<ul> <li>Automatically uses the public IP of the outgoing interface</li> <li>Ideal for dynamic IP addresses (e.g., DHCP-based connections)</li> <li>Useful for home labs, routers, or VPN gateways</li> </ul>"},{"location":"TechGuide/iptables/masquerade/#prerequisites","title":"\ud83e\uddf0 Prerequisites","text":"<ul> <li>A Linux machine acting as a router (two interfaces: internal and external)</li> <li>iptables installed</li> <li>IP forwarding enabled</li> </ul>"},{"location":"TechGuide/iptables/masquerade/#enabling-ip-forwarding","title":"\u2699\ufe0f Enabling IP Forwarding","text":"<pre><code>echo 1 &gt; /proc/sys/net/ipv4/ip_forward\n</code></pre> <p>To make it persistent:</p> <pre><code># Edit the sysctl config file\nsudo nano /etc/sysctl.conf\n\n# Uncomment or add:\nnet.ipv4.ip_forward = 1\n\n# Apply changes\nsudo sysctl -p\n</code></pre>"},{"location":"TechGuide/iptables/masquerade/#masquerade-configuration-with-iptables","title":"\ud83d\ude80 MASQUERADE Configuration with iptables","text":"<p>Assume:</p> <ul> <li><code>eth0</code> is the external interface (connected to internet)</li> <li><code>eth1</code> is the internal interface (connected to LAN)</li> </ul>"},{"location":"TechGuide/iptables/masquerade/#add-masquerade-rule","title":"Add MASQUERADE Rule:","text":"<pre><code>sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\n</code></pre>"},{"location":"TechGuide/iptables/masquerade/#forward-traffic-from-lan-to-wan","title":"Forward Traffic from LAN to WAN:","text":"<pre><code>sudo iptables -A FORWARD -i eth1 -o eth0 -j ACCEPT\nsudo iptables -A FORWARD -i eth0 -o eth1 -m state --state RELATED,ESTABLISHED -j ACCEPT\n</code></pre>"},{"location":"TechGuide/iptables/masquerade/#example-scenario","title":"\ud83e\uddea Example Scenario","text":"<p>You have a Linux box that connects to the internet on <code>eth0</code> and your LAN is connected to <code>eth1</code>. The LAN devices use the Linux box as their gateway.</p> <p>When a LAN device accesses a website:</p> <ol> <li>Packet from LAN hits the Linux box on <code>eth1</code></li> <li>MASQUERADE changes source IP to public IP of <code>eth0</code></li> <li>Response comes back to <code>eth0</code></li> <li>iptables tracks the connection and forwards it to the original internal IP via <code>eth1</code></li> </ol>"},{"location":"TechGuide/iptables/masquerade/#saving-iptables-rules","title":"\ud83d\udcbe Saving iptables Rules","text":"<p>On Debian/Ubuntu:</p> <pre><code>sudo apt install iptables-persistent\nsudo netfilter-persistent save\n</code></pre>"},{"location":"TechGuide/iptables/masquerade/#bonus-tip-view-active-nat-rules","title":"\ud83e\udde0 Bonus Tip: View Active NAT Rules","text":"<pre><code>sudo iptables -t nat -L -n -v\n</code></pre>"},{"location":"TechGuide/iptables/masquerade/#final-thoughts","title":"\u2705 Final Thoughts","text":"<p>Using the <code>MASQUERADE</code> target in iptables is a simple and effective way to provide internet access to internal devices on a network. It's widely used in:</p> <ul> <li>Home routers</li> <li>VPN servers</li> <li>Custom firewall setups</li> </ul> <p>Stay smart. Stay secure. And always test your firewall rules before deploying to production.</p> <p>Written by Santhosh Murugesan \u2013 Simplifying Linux Networking One Rule at a Time.</p>"},{"location":"TechGuide/iptables/packet_filtering/","title":"\ud83d\udeab Dropping Packets with iptables (Filter Table Guide)","text":""},{"location":"TechGuide/iptables/packet_filtering/#dropping-packets-with-iptables-filter-table-guide","title":"\ud83d\udeab Dropping Packets with iptables (Filter Table Guide)","text":"<p>Dropping unwanted packets is one of the primary uses of <code>iptables</code> for securing a Linux-based network. This guide explains how to use the filter table in iptables to drop specific packets effectively and safely.</p>"},{"location":"TechGuide/iptables/packet_filtering/#what-is-the-filter-table","title":"\ud83e\udde0 What is the Filter Table?","text":"<p>The filter table is the default table in <code>iptables</code>, responsible for handling packet filtering. It contains three main built-in chains:</p> <ul> <li>INPUT \u2013 Controls packets destined for the local system</li> <li>FORWARD \u2013 Controls packets routed through the system</li> <li>OUTPUT \u2013 Controls packets originating from the local system</li> </ul>"},{"location":"TechGuide/iptables/packet_filtering/#why-drop-packets","title":"\ud83d\udd25 Why Drop Packets?","text":"<p>Dropping packets is useful to:</p> <ul> <li>Block specific IPs or ranges</li> <li>Deny access to unused ports</li> <li>Harden systems against scans and brute force</li> <li>Filter suspicious traffic before it reaches applications</li> </ul>"},{"location":"TechGuide/iptables/packet_filtering/#basic-drop-example-block-an-ip","title":"\ud83e\uddf0 Basic Drop Example: Block an IP","text":""},{"location":"TechGuide/iptables/packet_filtering/#drop-incoming-packets-from-a-specific-ip","title":"Drop incoming packets from a specific IP:","text":"<pre><code>sudo iptables -A INPUT -s 192.168.1.100 -j DROP\n</code></pre> <p>This prevents the IP <code>192.168.1.100</code> from interacting with your machine.</p>"},{"location":"TechGuide/iptables/packet_filtering/#drop-packets-to-specific-port","title":"\ud83c\udfaf Drop Packets to Specific Port","text":""},{"location":"TechGuide/iptables/packet_filtering/#drop-access-to-ssh-port-22","title":"Drop access to SSH port (22):","text":"<pre><code>sudo iptables -A INPUT -p tcp --dport 22 -j DROP\n</code></pre> <p>Useful if you want to temporarily disable SSH without stopping the service.</p>"},{"location":"TechGuide/iptables/packet_filtering/#drop-forwarded-packets","title":"\ud83d\udd01 Drop Forwarded Packets","text":""},{"location":"TechGuide/iptables/packet_filtering/#block-packets-passing-through-routergateway-setup","title":"Block packets passing through (router/gateway setup):","text":"<pre><code>sudo iptables -A FORWARD -s 10.10.10.10 -j DROP\n</code></pre> <p>Blocks routed traffic from <code>10.10.10.10</code> across your gateway.</p>"},{"location":"TechGuide/iptables/packet_filtering/#drop-outgoing-traffic","title":"\ud83d\udce4 Drop Outgoing Traffic","text":""},{"location":"TechGuide/iptables/packet_filtering/#prevent-your-system-from-connecting-to-a-specific-server","title":"Prevent your system from connecting to a specific server:","text":"<pre><code>sudo iptables -A OUTPUT -d 123.123.123.123 -j DROP\n</code></pre>"},{"location":"TechGuide/iptables/packet_filtering/#view-rules","title":"\ud83e\uddea View Rules","text":"<pre><code>sudo iptables -L -n -v --line-numbers\n</code></pre>"},{"location":"TechGuide/iptables/packet_filtering/#delete-or-flush-rules","title":"\ud83d\udca3 Delete or Flush Rules","text":""},{"location":"TechGuide/iptables/packet_filtering/#delete-a-specific-rule","title":"Delete a specific rule:","text":"<pre><code>sudo iptables -D INPUT &lt;rule-number&gt;\n</code></pre>"},{"location":"TechGuide/iptables/packet_filtering/#flush-all-rules-in-the-input-chain","title":"Flush all rules in the INPUT chain:","text":"<pre><code>sudo iptables -F INPUT\n</code></pre>"},{"location":"TechGuide/iptables/packet_filtering/#save-rules-permanently","title":"\ud83d\udcbe Save Rules Permanently","text":""},{"location":"TechGuide/iptables/packet_filtering/#on-debianubuntu","title":"On Debian/Ubuntu:","text":"<pre><code>sudo apt install iptables-persistent\nsudo netfilter-persistent save\n</code></pre>"},{"location":"TechGuide/iptables/packet_filtering/#on-rhelcentos","title":"On RHEL/CentOS:","text":"<pre><code>sudo service iptables save\n</code></pre>"},{"location":"TechGuide/iptables/packet_filtering/#best-practices","title":"\u2705 Best Practices","text":"<ul> <li>Always test drop rules carefully to avoid locking yourself out.</li> <li>Place DROP rules after ACCEPT rules (order matters!).</li> <li>Combine with logging for visibility:</li> </ul> <pre><code>sudo iptables -A INPUT -s 192.168.1.200 -j LOG --log-prefix \"Blocked: \"\nsudo iptables -A INPUT -s 192.168.1.200 -j DROP\n</code></pre>"},{"location":"TechGuide/iptables/packet_filtering/#summary","title":"\ud83d\udccc Summary","text":"<p>Dropping packets with iptables is a foundational skill for any Linux admin or network engineer. Whether you\u2019re blocking attacks or cleaning up unused access points, the filter table has your back.</p> <p>Written by Santhosh Murugesan \u2013 Teaching Linux defense, one packet at a time.</p>"},{"location":"TechGuide/iptables/port-forwarding/","title":"\ud83d\udd01 Port Forwarding with iptables (DNAT Configuration Guide)","text":""},{"location":"TechGuide/iptables/port-forwarding/#port-forwarding-with-iptables-dnat-configuration-guide","title":"\ud83d\udd01 Port Forwarding with iptables (DNAT Configuration Guide)","text":"<p>Port forwarding, also known as Destination NAT (DNAT), is used to forward traffic from one IP/port to another internal IP/port. This is especially useful in scenarios where a server is behind a firewall or NAT router and needs to be accessible from the outside world.</p>"},{"location":"TechGuide/iptables/port-forwarding/#what-is-dnat","title":"\ud83e\udde0 What is DNAT?","text":"<p>DNAT changes the destination IP and/or port of incoming packets. It's used in port forwarding to redirect requests from one machine to another on the local network.</p>"},{"location":"TechGuide/iptables/port-forwarding/#use-case-example","title":"\ud83e\uddf0 Use Case Example","text":"<p>Let\u2019s say:</p> <ul> <li>Your public server IP is <code>203.0.113.10</code></li> <li>You want to forward external traffic on port <code>8080</code> to an internal web server at <code>192.168.1.100:80</code></li> </ul>"},{"location":"TechGuide/iptables/port-forwarding/#required-modules","title":"\ud83d\udce6 Required Modules","text":"<p>Ensure <code>iptables</code> and <code>ip_forwarding</code> are enabled.</p> <pre><code>echo 1 &gt; /proc/sys/net/ipv4/ip_forward\n</code></pre> <p>Make it permanent in <code>/etc/sysctl.conf</code>:</p> <pre><code>net.ipv4.ip_forward = 1\n</code></pre> <p>Apply the config:</p> <pre><code>sudo sysctl -p\n</code></pre>"},{"location":"TechGuide/iptables/port-forwarding/#dnat-rule-with-iptables","title":"\ud83d\udd27 DNAT Rule with iptables","text":""},{"location":"TechGuide/iptables/port-forwarding/#step-1-add-the-dnat-rule","title":"Step 1: Add the DNAT rule","text":"<pre><code>sudo iptables -t nat -A PREROUTING -p tcp -d 203.0.113.10 --dport 8080 -j DNAT --to-destination 192.168.1.100:80\n</code></pre> <p>This tells iptables to redirect traffic from public IP <code>203.0.113.10:8080</code> to internal <code>192.168.1.100:80</code>.</p>"},{"location":"TechGuide/iptables/port-forwarding/#step-2-allow-forwarding-of-packets","title":"Step 2: Allow forwarding of packets","text":"<pre><code>sudo iptables -A FORWARD -p tcp -d 192.168.1.100 --dport 80 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT\n</code></pre>"},{"location":"TechGuide/iptables/port-forwarding/#step-3-optional-snat-to-avoid-asymmetric-routing","title":"Step 3: (Optional) SNAT to avoid asymmetric routing","text":"<p>If the internal server's default gateway is NOT the forwarding machine:</p> <pre><code>sudo iptables -t nat -A POSTROUTING -d 192.168.1.100 -p tcp --dport 80 -j SNAT --to-source 192.168.1.1\n</code></pre>"},{"location":"TechGuide/iptables/port-forwarding/#testing","title":"\ud83e\uddea Testing","text":"<p>From a remote machine:</p> <pre><code>curl http://203.0.113.10:8080\n</code></pre> <p>You should reach the internal web server running on <code>192.168.1.100:80</code>.</p>"},{"location":"TechGuide/iptables/port-forwarding/#list-and-delete-rules","title":"\ud83d\udd04 List and Delete Rules","text":""},{"location":"TechGuide/iptables/port-forwarding/#view-nat-table","title":"View NAT table","text":"<pre><code>sudo iptables -t nat -L -n -v\n</code></pre>"},{"location":"TechGuide/iptables/port-forwarding/#delete-dnat-rule-replace-with-line-number","title":"Delete DNAT rule (replace with line number)","text":"<pre><code>sudo iptables -t nat -D PREROUTING &lt;line-number&gt;\n</code></pre>"},{"location":"TechGuide/iptables/port-forwarding/#save-rules","title":"\ud83d\udcbe Save Rules","text":"<p>On Ubuntu/Debian:</p> <pre><code>sudo apt install iptables-persistent\nsudo netfilter-persistent save\n</code></pre>"},{"location":"TechGuide/iptables/port-forwarding/#summary","title":"\u2705 Summary","text":"<p>Port forwarding via DNAT is a core technique in network configuration. It enables you to:</p> <ul> <li>Expose internal services securely</li> <li>Host multiple services behind a single IP</li> <li>Build custom gateways, proxies, and routers</li> </ul> <p>Written by Santhosh Murugesan \u2013 Helping you master Linux networking, one NAT rule at a time.</p>"},{"location":"TechGuide/iptables/quota_traffic_limit/","title":"\ud83d\udcca Traffic Control with iptables quota Module","text":""},{"location":"TechGuide/iptables/quota_traffic_limit/#traffic-control-with-iptables-quota-module","title":"\ud83d\udcca Traffic Control with iptables <code>quota</code> Module","text":"<p>The <code>quota</code> module in iptables allows you to limit traffic by data size \u2014 making it extremely useful for bandwidth-limited environments, metered networks, or temporary usage-based control.</p>"},{"location":"TechGuide/iptables/quota_traffic_limit/#what-is-iptables-quota","title":"\ud83e\udde0 What is iptables <code>quota</code>?","text":"<p>The <code>quota</code> module tracks the amount of traffic that matches a rule and stops matching after a defined data limit (in bytes). Once the limit is exceeded, subsequent packets won't match the rule.</p>"},{"location":"TechGuide/iptables/quota_traffic_limit/#real-time-use-cases","title":"\ud83d\udd27 Real-Time Use Cases","text":"<ul> <li>Limit data usage for a specific IP or subnet</li> <li>Cap bandwidth for guest networks</li> <li>Enforce metered usage in development environments</li> <li>Prevent abuse of internal services</li> </ul>"},{"location":"TechGuide/iptables/quota_traffic_limit/#basic-syntax","title":"\ud83d\udee0 Basic Syntax","text":"<pre><code>iptables -A &lt;CHAIN&gt; -m quota --quota &lt;BYTES&gt; -j &lt;TARGET&gt;\n</code></pre> <p>Example: </p><pre><code>iptables -A OUTPUT -m quota --quota 10000000 -j ACCEPT\n</code></pre><p></p> <p>Allows up to 10 MB of outbound traffic before stopping.</p>"},{"location":"TechGuide/iptables/quota_traffic_limit/#practical-use-case-limit-traffic-for-a-specific-ip","title":"\ud83e\uddea Practical Use Case: Limit Traffic for a Specific IP","text":"<p>Let\u2019s say you want to allow only 50MB of outbound traffic from a machine with IP <code>192.168.1.100</code>:</p> <pre><code>iptables -A FORWARD -s 192.168.1.100 -m quota --quota 52428800 -j ACCEPT\niptables -A FORWARD -s 192.168.1.100 -j DROP\n</code></pre> <p>After 50MB is used, all further packets from that IP will be dropped.</p>"},{"location":"TechGuide/iptables/quota_traffic_limit/#use-with-specific-ports-or-protocols","title":"\ud83c\udfaf Use with Specific Ports or Protocols","text":"<p>Example: Allow up to 20MB of HTTP traffic (port 80) to leave your machine:</p> <pre><code>iptables -A OUTPUT -p tcp --dport 80 -m quota --quota 20971520 -j ACCEPT\niptables -A OUTPUT -p tcp --dport 80 -j REJECT\n</code></pre>"},{"location":"TechGuide/iptables/quota_traffic_limit/#important-notes","title":"\ud83d\udccc Important Notes","text":"<ul> <li><code>quota</code> is not resettable by iptables itself \u2014 it resets on reboot or by flushing the rule.</li> <li>It does not provide bandwidth throttling, only data cap enforcement.</li> <li>Works best when combined with logging or monitoring scripts.</li> </ul>"},{"location":"TechGuide/iptables/quota_traffic_limit/#reset-quota-rules","title":"\ud83e\uddf9 Reset Quota Rules","text":"<p>To remove/reset a quota rule:</p> <pre><code>iptables -D FORWARD -s 192.168.1.100 -m quota --quota 52428800 -j ACCEPT\n</code></pre> <p>Or flush the entire chain:</p> <pre><code>iptables -F\n</code></pre>"},{"location":"TechGuide/iptables/quota_traffic_limit/#view-current-rules","title":"\ud83d\udccb View Current Rules","text":"<pre><code>iptables -L -v -n --line-numbers\n</code></pre> <p>This helps monitor which rule is in effect and track byte counters.</p>"},{"location":"TechGuide/iptables/quota_traffic_limit/#make-rules-persistent","title":"\ud83d\udd04 Make Rules Persistent","text":"<p>On Debian/Ubuntu:</p> <pre><code>sudo apt install iptables-persistent\nsudo netfilter-persistent save\n</code></pre>"},{"location":"TechGuide/iptables/quota_traffic_limit/#summary","title":"\u2705 Summary","text":"<p>The <code>quota</code> module is an effective tool for simple traffic control without needing complex tools like tc or QoS. It\u2019s best for:</p> <ul> <li>Quick enforcement of data limits</li> <li>Lightweight guest access control</li> <li>Bandwidth metering in test environments</li> </ul> <p>Written by Santhosh Murugesan \u2013 Making traffic count, one byte at a time.</p>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/","title":"\ud83e\udd16 Building a Smart Chatbot with n8n and Vector Search","text":""},{"location":"TechGuide/n8n/sample-chat-bot-creation/#building-a-smart-chatbot-with-n8n-and-vector-search","title":"\ud83e\udd16 Building a Smart Chatbot with n8n and Vector Search","text":"<p>This guide walks you through building a basic chatbot in n8n that understands messages and fetches relevant information using vector-based semantic search.</p>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/#overview-of-the-workflow","title":"\ud83e\udde9 Overview of the Workflow","text":"<p>The chatbot is powered by:</p> <ul> <li>A Trigger node \u2013 listens for incoming chat messages.</li> <li>An AI Agent \u2013 handles smart responses using a large language model.</li> <li>A Chat Model \u2013 enables understanding and response generation.</li> <li>A Vector Store \u2013 used to search knowledge based on meaning, not just keywords.</li> <li>An Embeddings Generator \u2013 converts text into a format that can be compared semantically.</li> </ul> <p></p>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/#components-and-their-roles","title":"\ud83d\udee0 Components and Their Roles","text":""},{"location":"TechGuide/n8n/sample-chat-bot-creation/#1-trigger-chat-message-received","title":"1. Trigger: Chat Message Received","text":"<ul> <li>Purpose: Starts the workflow when a chat message is received.</li> <li>Use: Acts as the entry point for the chatbot logic.</li> </ul>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/#2-ai-agent-advanced-ai","title":"2. AI Agent (Advanced AI)","text":"<ul> <li>Purpose: Main brain of the chatbot.</li> <li>Use: Receives the message, pulls in memory/tools, and responds smartly.</li> <li>Why: This agent lets you plug in tools (like vector search) for smarter answers.</li> </ul>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/#3-chat-model","title":"3. Chat Model","text":"<ul> <li>Purpose: Interprets user messages and generates replies.</li> <li>Use: Works behind the AI agent to process input/output.</li> <li>Why: Powers the language understanding and conversational flow.</li> </ul>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/#4-vector-store-semantic-search-tool","title":"4. Vector Store (Semantic Search Tool)","text":"<ul> <li>Purpose: Stores pre-processed content in vector format.</li> <li>Use: When a query comes in, it searches for similar meanings (not just exact words).</li> <li>Why: Helps the chatbot answer questions from your documents or custom knowledge.</li> </ul>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/#5-embeddings-generator","title":"5. Embeddings Generator","text":"<ul> <li>Purpose: Transforms your documents or queries into mathematical vectors.</li> <li>Use: Feeds both the vector store and AI agent.</li> <li>Why: Required to allow meaning-based searching instead of exact keyword match.</li> </ul>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/#how-the-flow-works","title":"\ud83d\udd01 How the Flow Works","text":"<ol> <li>A user sends a message (Trigger starts).</li> <li>The AI Agent receives the message and checks its tools.</li> <li>It uses the Vector Store (semantic search) to look for matching content.</li> <li>The Embeddings Generator helps the Vector Store understand the meaning.</li> <li>The Chat Model processes all inputs and responds back intelligently.</li> </ol>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/#key-benefits-of-this-setup","title":"\ud83d\udccc Key Benefits of This Setup","text":"<ul> <li>\ud83d\udd0d Smart Retrieval \u2013 Uses meaning-based search instead of rigid keyword search.</li> <li>\ud83e\udde0 Context Awareness \u2013 AI Agent can connect memory and tools for better replies.</li> <li>\ud83d\udd0c Extensible \u2013 Easily add tools like webhooks, forms, or databases.</li> <li>\ud83e\udd16 Natural Language Understanding \u2013 Thanks to the integrated chat model.</li> </ul>"},{"location":"TechGuide/n8n/sample-chat-bot-creation/#final-thoughts","title":"\u2705 Final Thoughts","text":"<p>This flow helps you build a simple yet powerful AI assistant using n8n, with the ability to fetch smart answers from your own data using semantic vector search. You don\u2019t need deep ML skills \u2013 just connect the blocks!</p> <p>Created by Santhosh Murugesan \u2013 Build smart, build fast. </p>"},{"location":"TechGuide/n8n/self-hosting/","title":"Deploying n8n with Docker Compose \u2013 A Complete Guide","text":""},{"location":"TechGuide/n8n/self-hosting/#deploying-n8n-with-docker-compose-a-complete-guide","title":"Deploying n8n with Docker Compose \u2013 A Complete Guide","text":"<p>n8n (pronounced \"n-eight-n\") is an open-source workflow automation tool that helps you connect APIs, databases, and internal tools to automate tasks \u2014 without writing complex code. In this guide, we\u2019ll walk through how to deploy <code>n8n</code> using Docker Compose.</p>"},{"location":"TechGuide/n8n/self-hosting/#why-use-docker-compose","title":"\ud83d\ude80 Why Use Docker Compose?","text":"<p>Docker Compose allows you to define and run multi-container applications. With n8n, Compose makes it easy to set up: - Persistent storage - Environment variables - Auto-starting the service - Networking with other services (e.g., PostgreSQL, Redis)</p>"},{"location":"TechGuide/n8n/self-hosting/#prerequisites","title":"\ud83e\uddf0 Prerequisites","text":"<ul> <li>Docker installed: Install Docker</li> <li>Docker Compose installed: Install Compose</li> <li>A basic understanding of YAML and Docker commands</li> </ul>"},{"location":"TechGuide/n8n/self-hosting/#folder-structure","title":"\ud83d\udcc1 Folder Structure","text":"<p>We\u2019ll use the following structure:</p> <pre><code>n8n-docker/\n\u251c\u2500\u2500 docker-compose.yml\n\u2514\u2500\u2500 .env\n</code></pre>"},{"location":"TechGuide/n8n/self-hosting/#env-file","title":"\u270d\ufe0f .env File","text":"<p>Create a <code>.env</code> file to store environment variables:</p> <pre><code># Basic\nN8N_BASIC_AUTH_ACTIVE=true\nN8N_BASIC_AUTH_USER=admin\nN8N_BASIC_AUTH_PASSWORD=securepassword\n\n# External Access\nN8N_HOST=localhost\nN8N_PORT=5678\n\n# Timezone\nGENERIC_TIMEZONE=Asia/Kolkata\n\n# Execution Mode\nN8N_EXECUTIONS_MODE=queue\n</code></pre>"},{"location":"TechGuide/n8n/self-hosting/#docker-composeyml","title":"\u2699\ufe0f docker-compose.yml","text":"<pre><code>version: \"3.8\"\n\nservices:\n  n8n:\n    image: n8nio/n8n:latest\n    restart: always\n    ports:\n      - \"5678:5678\"\n    environment:\n      - N8N_BASIC_AUTH_ACTIVE=${N8N_BASIC_AUTH_ACTIVE}\n      - N8N_BASIC_AUTH_USER=${N8N_BASIC_AUTH_USER}\n      - N8N_BASIC_AUTH_PASSWORD=${N8N_BASIC_AUTH_PASSWORD}\n      - N8N_HOST=${N8N_HOST}\n      - N8N_PORT=${N8N_PORT}\n      - GENERIC_TIMEZONE=${GENERIC_TIMEZONE}\n      - N8N_EXECUTIONS_MODE=${N8N_EXECUTIONS_MODE}\n    volumes:\n      - ./n8n_data:/home/node/.n8n\n</code></pre>"},{"location":"TechGuide/n8n/self-hosting/#starting-the-service","title":"\u25b6\ufe0f Starting the Service","text":"<pre><code>docker-compose up -d\n</code></pre> <ul> <li>The first time it may take a while to pull the Docker image.</li> <li>Access your instance at: http://localhost:5678</li> </ul>"},{"location":"TechGuide/n8n/self-hosting/#access-authentication","title":"\ud83d\udd10 Access &amp; Authentication","text":"<p>You\u2019ve enabled basic auth in the <code>.env</code> file, so use the credentials:</p> <pre><code>Username: admin\nPassword: securepassword\n</code></pre>"},{"location":"TechGuide/n8n/self-hosting/#persistent-data","title":"\ud83d\udcbe Persistent Data","text":"<p>The volume <code>./n8n_data:/home/node/.n8n</code> ensures that your workflows, credentials, and settings are retained even if the container is removed.</p>"},{"location":"TechGuide/n8n/self-hosting/#tips-extras","title":"\ud83e\udde0 Tips &amp; Extras","text":"<ul> <li>You can use a reverse proxy like NGINX to expose it securely via HTTPS.</li> <li>To use external databases like PostgreSQL or Redis, just add them to the Compose file.</li> <li>Back up your volume regularly to avoid data loss.</li> </ul>"},{"location":"TechGuide/n8n/self-hosting/#stopping-and-removing","title":"\ud83e\uddf9 Stopping and Removing","text":"<pre><code>docker-compose down\n</code></pre> <p>Add <code>-v</code> to remove volumes if needed: </p><pre><code>docker-compose down -v\n</code></pre><p></p>"},{"location":"TechGuide/n8n/self-hosting/#references","title":"\ud83d\udcda References","text":"<ul> <li>n8n Documentation</li> <li>n8n Docker Hub</li> <li>n8n GitHub</li> </ul> <p>Written by Santhosh Murugesan \u2013 Simplifying automation one workflow at a time.</p>"},{"location":"TechGuide/n8n/self-hosting/#note","title":"Note","text":"<ul> <li>Based on the Setup you are having, the Environment variable will get varied</li> </ul>"},{"location":"TechGuide/netplan/basics/","title":"Basics","text":""},{"location":"TechGuide/netplan/basics/#netplan","title":"Netplan","text":"<p>Netplan is a powerful utility that simplifies network configuration on modern Linux systems. It provides a declarative way to configure network interfaces using YAML files, replacing older methods such as <code>ifconfig</code> and <code>/etc/network/interfaces</code>. </p>"},{"location":"TechGuide/netplan/basics/#what-is-netplan","title":"What is Netplan?","text":"<p>Netplan is a configuration utility for easily managing and applying network settings. Introduced in Ubuntu 17.10, it serves as a bridge between system administrators and low-level networking tools like <code>systemd-networkd</code> and <code>NetworkManager</code>. With Netplan, you define your network configurations in YAML files, and it handles the backend integration with these renderers.</p>"},{"location":"TechGuide/netplan/basics/#key-features","title":"Key Features","text":"<ul> <li>Declarative Configuration: Network settings are defined in human-readable YAML files.</li> <li>Renderer Independence: Supports both <code>systemd-networkd</code> and <code>NetworkManager</code> as backends.</li> <li>Modern Networking: Supports advanced features like bridges, VLANs, and bonds.</li> <li>Simplified Management: A single command (<code>netplan apply</code>) applies all configurations.</li> </ul>"},{"location":"TechGuide/netplan/basics/#why-use-netplan","title":"Why Use Netplan?","text":"<p>Netplan streamlines network configuration by:</p> <ol> <li>Reducing Complexity: YAML syntax is simpler and more intuitive compared to legacy methods.</li> <li>Centralizing Configurations: Consolidates all network settings in the <code>/etc/netplan/</code> directory.</li> <li>Supporting Modern Networking: Provides built-in support for advanced features like DHCP, static IPs, bridges, and VLANs.</li> </ol>"},{"location":"TechGuide/netplan/basics/#netplan-configuration-files","title":"Netplan Configuration Files","text":""},{"location":"TechGuide/netplan/basics/#location-of-configuration-files","title":"Location of Configuration Files","text":"<p>Netplan configuration files are stored in the <code>/etc/netplan/</code> directory. These files typically have a <code>.yaml</code> extension, such as <code>01-netcfg.yaml</code> or <code>50-cloud-init.yaml</code>.</p>"},{"location":"TechGuide/netplan/basics/#structure-of-a-netplan-file","title":"Structure of a Netplan File","text":"<p>A basic Netplan configuration file contains:</p> <ol> <li><code>network</code>: The root key that holds all network settings.</li> <li><code>version</code>: Indicates the YAML schema version (currently version <code>2</code>).</li> <li><code>ethernets</code>, <code>vlans</code>, <code>bonds</code>, <code>bridges</code>: Define specific types of interfaces.</li> </ol> <p>Example:</p> <pre><code>network:\n  version: 2\n  ethernets:\n    enp0s3:\n      dhcp4: true\n</code></pre>"},{"location":"TechGuide/netplan/basics/#why-configuration-files-have-numbers","title":"Why Configuration Files Have Numbers","text":"<p>Files in <code>/etc/netplan/</code> often have a prefix like <code>01-</code>, <code>50-</code>, etc., which determines the order in which they are applied. Lower numbers take precedence over higher numbers. For example:</p> <ul> <li><code>01-netcfg.yaml</code> will override settings in <code>50-cloud-init.yaml</code> if both define the same interface.</li> </ul> <p>This numbering system allows you to prioritize and layer configurations.</p>"},{"location":"TechGuide/netplan/basics/#applying-configuration-files","title":"Applying Configuration Files","text":"<p>After creating or modifying a configuration file, you must apply the changes using:</p> <pre><code>sudo netplan apply\n</code></pre> <p>You can test the configuration before applying it permanently:</p> <pre><code>sudo netplan try\n</code></pre>"},{"location":"TechGuide/netplan/basics/#what-is-a-renderer-in-netplan","title":"What is a Renderer in Netplan?","text":"<p>The renderer determines how Netplan applies configurations to the system. Netplan supports two renderers:</p> <ol> <li><code>networkd</code> (systemd-networkd): A lightweight backend suitable for servers and minimal installations.</li> <li><code>NetworkManager</code>: A full-featured network manager typically used on desktops and laptops.</li> </ol>"},{"location":"TechGuide/netplan/basics/#specifying-the-renderer","title":"Specifying the Renderer","text":"<p>In the YAML file, you can specify the renderer globally or per interface. Example:</p> <pre><code>network:\n  version: 2\n  renderer: networkd\n  ethernets:\n    enp0s3:\n      dhcp4: true\n</code></pre> <p>Or assign a different renderer to specific interfaces:</p> <pre><code>network:\n  version: 2\n  ethernets:\n    enp0s3:\n      renderer: NetworkManager\n      dhcp4: true\n</code></pre>"},{"location":"TechGuide/netplan/basics/#advanced-options","title":"Advanced Options","text":"<p>Netplan also supports advanced configurations like:</p> <ul> <li>Bonds: For link aggregation.</li> <li>Bridges: For virtualized or containerized environments.</li> <li>VLANs: For virtual LAN tagging.</li> </ul> <p>Refer to specific guides for these configurations.</p>"},{"location":"TechGuide/netplan/basics/#troubleshooting-netplan","title":"Troubleshooting Netplan","text":""},{"location":"TechGuide/netplan/basics/#validating-configuration-files","title":"Validating Configuration Files","text":"<p>Ensure the YAML syntax is correct:</p> <pre><code>sudo netplan generate\n</code></pre>"},{"location":"TechGuide/netplan/basics/#debugging-errors","title":"Debugging Errors","text":"<p>Check logs for error messages:</p> <pre><code>journalctl -u systemd-networkd\n</code></pre>"},{"location":"TechGuide/netplan/basics/#reverting-changes","title":"Reverting Changes","text":"<p>If a configuration fails, Netplan will automatically revert to the previous working state when using <code>netplan try</code>.</p>"},{"location":"TechGuide/netplan/basics/#conclusion","title":"Conclusion","text":"<p>Netplan simplifies network management on Linux systems, offering a modern, declarative approach to configuring interfaces. Understanding its YAML syntax, file ordering, and renderers allows you to unlock powerful networking capabilities while keeping configurations clean and manageable. For more details, refer to the Netplan Official Documentation.</p>"},{"location":"TechGuide/netplan/bond/","title":"Bond","text":"<p>Here's a detailed MkDocs post on configuring bond interfaces using Netplan:</p>"},{"location":"TechGuide/netplan/bond/#configuring-bond-interfaces-using-netplan","title":"Configuring Bond Interfaces Using Netplan","text":""},{"location":"TechGuide/netplan/bond/#what-is-a-bonded-interface","title":"What is a Bonded Interface?","text":"<p>A bonded interface is a method of combining multiple network interfaces into a single logical interface. This is done for redundancy, load balancing, and performance enhancement. Bonding allows you to aggregate multiple physical network interfaces to create a single, higher-speed virtual interface. It also improves network availability, as if one interface fails, the others will take over without network disruption.</p>"},{"location":"TechGuide/netplan/bond/#benefits-of-bonded-interfaces","title":"Benefits of Bonded Interfaces:","text":"<ul> <li>Increased Throughput: Combining multiple interfaces can provide better bandwidth and higher throughput, especially when transferring large amounts of data.</li> <li>Redundancy and Fault Tolerance: Bonding multiple interfaces ensures that if one interface goes down, the remaining interfaces can continue to provide connectivity without a service disruption.</li> <li>Load Balancing: The network load can be evenly distributed across the bonded interfaces, improving overall network efficiency.</li> </ul>"},{"location":"TechGuide/netplan/bond/#netplan-overview","title":"Netplan Overview","text":"<p>Netplan is a utility in Ubuntu and other modern Linux distributions for configuring networking. It is the recommended configuration tool for network settings, replacing older utilities such as <code>/etc/network/interfaces</code>. Netplan works with both systemd-networkd and NetworkManager as the backend to apply configuration changes.</p> <p>In this guide, we will walk through how to configure bond interfaces using Netplan, their uses, the pros and cons of bonding, and routing configuration.</p>"},{"location":"TechGuide/netplan/bond/#netplan-configuration-for-bond-interfaces","title":"Netplan Configuration for Bond Interfaces","text":""},{"location":"TechGuide/netplan/bond/#step-1-identifying-network-interfaces","title":"Step 1: Identifying Network Interfaces","text":"<p>Before configuring bonding, you need to identify the network interfaces available on your system. You can use the following command to list them:</p> <pre><code>ip link show\n</code></pre> <p>Assume the available interfaces are <code>eth0</code>, <code>eth1</code>, and <code>eth2</code>.</p>"},{"location":"TechGuide/netplan/bond/#step-2-creating-the-netplan-configuration","title":"Step 2: Creating the Netplan Configuration","text":"<p>Netplan configuration files are located in <code>/etc/netplan/</code>. Typically, these files have the <code>.yaml</code> extension and are named something like <code>00-installer-config.yaml</code>. You need to create or modify a file in this directory to configure bonding.</p> <ol> <li>Create or edit a configuration file, e.g., <code>01-bonding.yaml</code>.</li> </ol> <pre><code>sudo nano /etc/netplan/01-bonding.yaml\n</code></pre> <ol> <li>Add the following configuration to create a bonded interface:</li> </ol> <pre><code>network:\n  version: 2\n  renderer: networkd\n  ethernets:\n    eth0: {}\n    eth1: {}\n    eth2: {}\n  bonds:\n    bond0:\n      interfaces:\n        - eth0\n        - eth1\n        - eth2\n      parameters:\n        mode: balance-rr          # Load balancing mode (round-robin)\n        mii-monitor-interval: 100 # Monitoring interval (ms)\n        primary: eth0            # Primary interface for failover\n</code></pre> <p>In the example above: - <code>bond0</code> is the new bonded interface. - <code>eth0</code>, <code>eth1</code>, and <code>eth2</code> are the physical interfaces being bonded together. - <code>mode: balance-rr</code> sets the bonding mode to round-robin load balancing. Other modes include <code>active-backup</code>, <code>802.3ad</code>, <code>balance-xor</code>, etc. - <code>mii-monitor-interval</code> specifies the monitoring interval to check the status of the interfaces. - <code>primary</code> defines the primary interface for failover.</p>"},{"location":"TechGuide/netplan/bond/#step-3-apply-the-configuration","title":"Step 3: Apply the Configuration","text":"<p>Once you have saved the configuration file, apply the changes with:</p> <pre><code>sudo netplan apply\n</code></pre> <p>You can verify that the bond interface is created successfully by running:</p> <pre><code>ip addr show bond0\n</code></pre>"},{"location":"TechGuide/netplan/bond/#routing-configuration-with-bond-interfaces","title":"Routing Configuration with Bond Interfaces","text":"<p>After creating a bonded interface, you may need to configure routing to manage traffic flow across the bond. Routing can be configured to ensure that traffic goes through the correct interface or a combination of interfaces for load balancing or redundancy.</p> <p>To add routing configuration in Netplan for a bonded interface, follow these steps:</p> <ol> <li>Modify the Netplan YAML file to include routing details:</li> </ol> <pre><code>network:\n  version: 2\n  renderer: networkd\n  ethernets:\n    eth0: {}\n    eth1: {}\n    eth2: {}\n  bonds:\n    bond0:\n      interfaces:\n        - eth0\n        - eth1\n        - eth2\n      parameters:\n        mode: balance-rr\n        mii-monitor-interval: 100\n        primary: eth0\n</code></pre> <ol> <li> <p>The <code>routes</code> section in this configuration directs all outbound traffic (<code>0.0.0.0/0</code>) through the IP address <code>192.168.1.1</code>, which is the gateway for the bonded interface.</p> </li> <li> <p>Apply the changes with:</p> </li> </ol> <pre><code>sudo netplan apply\n</code></pre> <p>You can check the routing table by running:</p> <pre><code>ip route\n</code></pre>"},{"location":"TechGuide/netplan/bond/#bonding-modes","title":"Bonding Modes","text":"<p>There are several modes you can use for bonding, depending on your needs. Here are the most common ones:</p> <ol> <li>balance-rr: Round-robin load balancing. This mode uses all interfaces in a rotating manner.</li> <li>active-backup: Only one interface is active at any given time, providing fault tolerance.</li> <li>802.3ad (LACP): Combines interfaces into a single logical interface using the Link Aggregation Control Protocol (LACP). This mode requires support from the switch.</li> <li>balance-xor: Traffic is distributed based on MAC address or IP hash.</li> <li>broadcast: Sends all traffic on all interfaces for redundancy.</li> <li>transmit-load-balancing: Uses a round-robin approach, but with more intelligent distribution based on the load.</li> </ol> <p>Each mode has its advantages, and choosing the right one depends on your network topology and requirements.</p>"},{"location":"TechGuide/netplan/bond/#pros-and-cons-of-bonding","title":"Pros and Cons of Bonding","text":""},{"location":"TechGuide/netplan/bond/#pros","title":"Pros:","text":"<ul> <li>Increased Throughput: Aggregates the bandwidth of multiple interfaces for faster data transfer.</li> <li>Redundancy: Ensures that network connectivity remains available even if one interface fails.</li> <li>Load Balancing: Distributes traffic across multiple interfaces to avoid congestion.</li> <li>Improved Fault Tolerance: If one network link fails, the bond automatically switches to another link without any service disruption.</li> </ul>"},{"location":"TechGuide/netplan/bond/#cons","title":"Cons:","text":"<ul> <li>Requires Switch Support: Some modes, like <code>802.3ad</code>, require switches that support LACP (Link Aggregation Control Protocol).</li> <li>Configuration Complexity: Bonding can add complexity to network configurations, especially when multiple switches and advanced bonding modes are used.</li> <li>Potential Overhead: In certain configurations, especially when using modes like <code>balance-rr</code>, the load on the system could increase due to handling multiple interfaces.</li> <li>Single Point of Failure: In the case of using a non-redundant bonding mode like <code>balance-rr</code>, if a failure occurs in the primary interface, it could disrupt the entire bonded interface unless proper failover is configured.</li> </ul>"},{"location":"TechGuide/netplan/bond/#conclusion","title":"Conclusion","text":"<p>Configuring bond interfaces using Netplan provides an efficient way to enhance network performance, redundancy, and fault tolerance. By following the steps outlined in this post, you can quickly create and configure bonded interfaces, manage routing, and select the right bonding mode for your use case.</p> <p>Ensure you thoroughly test the bond setup, especially in production environments, to verify that it meets the desired redundancy and performance criteria.</p>"},{"location":"TechGuide/netplan/bridge/","title":"Bridge","text":""},{"location":"TechGuide/netplan/bridge/#configuring-bridge-interfaces-with-netplan","title":"Configuring Bridge Interfaces with Netplan","text":"<p>A bridge interface is a virtual network device that combines multiple physical or virtual network interfaces into a single logical interface. This is commonly used in scenarios like virtualization, where virtual machines (VMs) need to connect to the host's physical network, or in containers for seamless network connectivity.</p>"},{"location":"TechGuide/netplan/bridge/#what-is-a-bridge-interface","title":"What is a Bridge Interface?","text":"<p>A bridge acts like a virtual network switch, enabling devices connected to its member interfaces to communicate as if they were on the same physical network. Unlike a traditional network interface, a bridge can:</p> <ol> <li>Forward traffic between its member interfaces.</li> <li>Isolate traffic from different physical or virtual devices.</li> <li>Support advanced networking features like VLANs, spanning tree protocols, and virtualized environments.</li> </ol>"},{"location":"TechGuide/netplan/bridge/#common-use-cases-for-bridge-interfaces","title":"Common Use Cases for Bridge Interfaces","text":"<ul> <li>Virtualization Platforms: Allow VMs to share the host's physical network connection.</li> <li>Network Segmentation: Simplify configurations by grouping multiple interfaces under a single bridge.</li> <li>Containers: Provide containerized applications direct access to the network.</li> </ul>"},{"location":"TechGuide/netplan/bridge/#steps-to-configure-a-bridge-interface","title":"Steps to Configure a Bridge Interface","text":""},{"location":"TechGuide/netplan/bridge/#1-identify-member-interfaces","title":"1. Identify Member Interfaces","text":"<p>Use the following command to list available network interfaces:</p> <pre><code>ip link show\n</code></pre> <p>Decide which physical or virtual interfaces will be part of the bridge (e.g., <code>enp3s0</code>, <code>enp4s0</code>).</p>"},{"location":"TechGuide/netplan/bridge/#2-create-or-edit-a-netplan-configuration-file","title":"2. Create or Edit a Netplan Configuration File","text":"<p>Open or create a new configuration file in the <code>/etc/netplan/</code> directory. For example:</p> <pre><code>sudo nano /etc/netplan/03-bridge-config.yaml\n</code></pre>"},{"location":"TechGuide/netplan/bridge/#3-define-the-bridge-configuration","title":"3. Define the Bridge Configuration","text":"<p>Here are some examples of bridge configurations:</p>"},{"location":"TechGuide/netplan/bridge/#a-basic-bridge-configuration","title":"a. Basic Bridge Configuration","text":"<pre><code>network:\n  version: 2\n  ethernets:\n    enp3s0:\n      dhcp4: false\n    enp4s0:\n      dhcp4: false\n  bridges:\n    br0:\n      interfaces:\n        - enp3s0\n        - enp4s0\n      dhcp4: true\n</code></pre> <p>In this example: - <code>br0</code> is the bridge interface. - <code>interfaces</code> lists the member interfaces (<code>enp3s0</code>, <code>enp4s0</code>). - <code>dhcp4: true</code> enables DHCP for the bridge, assigning an IP address to <code>br0</code>.</p>"},{"location":"TechGuide/netplan/bridge/#b-bridge-with-static-ip-address","title":"b. Bridge with Static IP Address","text":"<pre><code>network:\n  version: 2\n  ethernets:\n    enp3s0:\n      dhcp4: false\n    enp4s0:\n      dhcp4: false\n  bridges:\n    br0:\n      interfaces:\n        - enp3s0\n        - enp4s0\n      addresses:\n        - 192.168.1.100/24\n      gateway4: 192.168.1.1\n      nameservers:\n        addresses:\n          - 8.8.8.8\n          - 8.8.4.4\n</code></pre>"},{"location":"TechGuide/netplan/bridge/#c-bridge-for-virtualization-with-no-ip-address","title":"c. Bridge for Virtualization (With No IP Address)","text":"<pre><code>network:\n  version: 2\n  ethernets:\n    enp3s0:\n      dhcp4: false\n  bridges:\n    br0:\n      interfaces:\n        - enp3s0\n      dhcp4: false\n      parameters:\n        stp: true\n        forward-delay: 4\n</code></pre> <p>In this case: - The bridge does not get an IP address but can be used by VMs or containers. - <code>stp: true</code> enables Spanning Tree Protocol to prevent loops in the network. - <code>forward-delay</code> specifies the time (in seconds) a port waits before forwarding packets.</p>"},{"location":"TechGuide/netplan/bridge/#4-apply-the-configuration","title":"4. Apply the Configuration","text":"<p>Save the file and apply the configuration:</p> <pre><code>sudo netplan apply\n</code></pre> <p>To test the configuration before applying permanently, use:</p> <pre><code>sudo netplan try\n</code></pre>"},{"location":"TechGuide/netplan/bridge/#5-verify-the-bridge-setup","title":"5. Verify the Bridge Setup","text":"<p>Check the status of the bridge interface:</p> <pre><code>ip link show br0\n</code></pre> <p>Ensure the bridge has the expected IP address and member interfaces:</p> <pre><code>bridge link\n</code></pre> <p>Test connectivity with:</p> <pre><code>ping -c 4 8.8.8.8\n</code></pre>"},{"location":"TechGuide/netplan/bridge/#troubleshooting","title":"Troubleshooting","text":"<ol> <li>Configuration Errors:    Validate the YAML file with:</li> </ol> <pre><code>sudo netplan generate\n</code></pre> <ol> <li>Logs:    Check logs for detailed error messages:</li> </ol> <pre><code>journalctl -u systemd-networkd\n</code></pre> <ol> <li>Bridge Status:    Ensure the bridge interface is active and includes the member interfaces:</li> </ol> <pre><code>brctl show\n</code></pre>"},{"location":"TechGuide/netplan/bridge/#additional-resources","title":"Additional Resources","text":"<ul> <li>Netplan Official Documentation</li> <li><code>man netplan</code></li> <li><code>man bridge</code></li> </ul>"},{"location":"TechGuide/netplan/ethernet/","title":"Ethernet","text":""},{"location":"TechGuide/netplan/ethernet/#configuring-ethernet-interfaces-with-netplan","title":"Configuring Ethernet Interfaces with Netplan","text":"<p>Netplan is a simple and efficient utility for configuring network interfaces in Ubuntu and other Linux distributions that use <code>systemd</code> for managing network configurations. </p>"},{"location":"TechGuide/netplan/ethernet/#prerequisites","title":"Prerequisites","text":"<p>Before starting, ensure the following:</p> <ol> <li>You are using a Linux distribution that supports Netplan (e.g., Ubuntu 18.04 or later).</li> <li>You have <code>sudo</code> privileges to modify network configurations.</li> </ol>"},{"location":"TechGuide/netplan/ethernet/#understanding-netplan-configuration-files","title":"Understanding Netplan Configuration Files","text":"<p>Netplan configuration files are located in the <code>/etc/netplan/</code> directory and typically have a <code>.yaml</code> extension. Examples include:</p> <ul> <li><code>/etc/netplan/01-netcfg.yaml</code></li> </ul> <p>Netplan uses YAML syntax, which is indentation-sensitive. Ensure proper formatting while editing.</p>"},{"location":"TechGuide/netplan/ethernet/#steps-to-configure-an-ethernet-interface","title":"Steps to Configure an Ethernet Interface","text":""},{"location":"TechGuide/netplan/ethernet/#1-identify-the-network-interface","title":"1. Identify the Network Interface","text":"<p>List all network interfaces using the following command:</p> <pre><code>ip link show\n</code></pre> <p>Note the name of the Ethernet interface (e.g., <code>eth0</code>, <code>enp3s0</code>).</p>"},{"location":"TechGuide/netplan/ethernet/#2-create-or-edit-a-netplan-configuration-file","title":"2. Create or Edit a Netplan Configuration File","text":"<p>Use a text editor to create or edit a file in the <code>/etc/netplan/</code> directory. For example:</p> <pre><code>sudo nano /etc/netplan/01-netcfg.yaml\n</code></pre>"},{"location":"TechGuide/netplan/ethernet/#3-configure-the-ethernet-interface","title":"3. Configure the Ethernet Interface","text":"<p>Below are examples of typical configurations.</p>"},{"location":"TechGuide/netplan/ethernet/#a-dynamic-ip-address-configuration-dhcp","title":"a. Dynamic IP Address Configuration (DHCP)","text":"<pre><code>network:\n  version: 2\n  ethernets:\n    enp3s0:\n      dhcp4: true\n</code></pre>"},{"location":"TechGuide/netplan/ethernet/#b-static-ip-address-configuration","title":"b. Static IP Address Configuration","text":"<pre><code>network:\n  version: 2\n  ethernets:\n    enp3s0:\n      addresses:\n        - 192.168.1.100/24\n      gateway4: 192.168.1.1\n      nameservers:\n        addresses:\n          - 8.8.8.8\n          - 8.8.4.4\n</code></pre>"},{"location":"TechGuide/netplan/ethernet/#c-multiple-ip-addresses-on-one-interface","title":"c. Multiple IP Addresses on One Interface","text":"<pre><code>network:\n  version: 2\n  ethernets:\n    enp3s0:\n      addresses:\n        - 192.168.1.100/24\n        - 192.168.1.101/24\n      gateway4: 192.168.1.1\n      nameservers:\n        addresses:\n          - 8.8.8.8\n          - 8.8.4.4\n</code></pre>"},{"location":"TechGuide/netplan/ethernet/#4-apply-the-configuration","title":"4. Apply the Configuration","text":"<p>Once you have saved the configuration file, apply the changes using:</p> <pre><code>sudo netplan apply\n</code></pre> <p>If the configuration is incorrect, Netplan will report an error. Use <code>sudo netplan try</code> to test the configuration interactively before applying it permanently.</p>"},{"location":"TechGuide/netplan/ethernet/#5-verify-the-configuration","title":"5. Verify the Configuration","text":"<p>Check the status of the interface to confirm it is configured correctly:</p> <pre><code>ip addr show enp3s0\n</code></pre> <p>You can also test connectivity using:</p> <pre><code>ping -c 4 8.8.8.8\n</code></pre>"},{"location":"TechGuide/netplan/ethernet/#troubleshooting","title":"Troubleshooting","text":"<ol> <li>Check for Syntax Errors:</li> </ol> <p>Use the following command to validate the YAML file:</p> <pre><code>sudo netplan generate\n</code></pre> <ol> <li>Review Logs:</li> </ol> <p>Check system logs for network-related errors:</p> <pre><code>journalctl -u systemd-networkd\n</code></pre> <ol> <li>Revert Changes:</li> </ol> <p>If the network becomes inaccessible after applying changes, use a recovery shell or boot into a live session to correct the configuration.</p>"},{"location":"TechGuide/netplan/ethernet/#additional-resources","title":"Additional Resources","text":"<ul> <li>Netplan Official Documentation</li> <li><code>man netplan</code></li> </ul>"},{"location":"TechGuide/netplan/route/","title":"Routing","text":""},{"location":"TechGuide/netplan/route/#configuring-routes-in-netplan","title":"Configuring Routes in Netplan","text":"<p>Routing is a crucial aspect of networking, enabling communication between different subnets and networks. In Netplan, routes can be configured for various interfaces like Ethernet, VLAN, and Bridge interfaces. </p>"},{"location":"TechGuide/netplan/route/#what-is-routing","title":"What is Routing?","text":"<p>Routing is the process of directing network packets from a source to a destination. Proper routing ensures that data travels through the optimal path to reach its destination. Routes can be static (manually defined) or dynamic (automatically updated).</p>"},{"location":"TechGuide/netplan/route/#why-do-we-need-routing","title":"Why Do We Need Routing?","text":"<ol> <li>Interconnectivity: To enable communication between different subnets or networks.</li> <li>Load Balancing: To distribute traffic across multiple paths for better performance.</li> <li>Redundancy: To provide alternate paths in case of a failure in the primary route.</li> <li>Custom Policies: To direct specific traffic through preferred paths based on application or priority.</li> </ol>"},{"location":"TechGuide/netplan/route/#key-concepts-in-netplan-routing","title":"Key Concepts in Netplan Routing","text":""},{"location":"TechGuide/netplan/route/#routing-table","title":"Routing Table","text":"<p>In Netplan, you can specify a routing table for advanced routing policies. Each routing table is identified by a unique number or name.</p>"},{"location":"TechGuide/netplan/route/#metrics","title":"Metrics","text":"<p>The <code>metric</code> field in Netplan determines the preference of a route. Lower metrics are preferred over higher ones. This is useful for defining fallback routes or prioritizing certain paths.</p>"},{"location":"TechGuide/netplan/route/#file-location","title":"File Location","text":"<p>Routes are configured in YAML files under the <code>/etc/netplan/</code> directory. Example file: <code>/etc/netplan/50-routing-config.yaml</code>.</p>"},{"location":"TechGuide/netplan/route/#configuring-routes-for-ethernet-interfaces","title":"Configuring Routes for Ethernet Interfaces","text":""},{"location":"TechGuide/netplan/route/#static-route-configuration","title":"Static Route Configuration","text":"<pre><code>network:\n  version: 2\n  ethernets:\n    enp3s0:\n      dhcp4: false\n      addresses:\n        - 192.168.1.10/24\n      routes:\n        - to: 192.168.2.0/24\n          via: 192.168.1.1\n          metric: 100\n          table: 100\n        - to: 0.0.0.0/0\n          via: 192.168.1.1\n          metric: 200\n          table: 100\n</code></pre> <p>In this example: - A static route is configured to the <code>192.168.2.0/24</code> network via <code>192.168.1.1</code>. - A default route (<code>0.0.0.0/0</code>) is added with a higher metric, making it a fallback route. - A routing table <code>100</code> is used, and a policy routes packets originating from <code>192.168.1.10</code> through this table.</p>"},{"location":"TechGuide/netplan/route/#default-dynamic-route","title":"Default Dynamic Route","text":"<p>Dynamic routes are typically managed by routing protocols like OSPF or BGP, not manually configured in Netplan. However, default dynamic routing can be set using DHCP:</p> <pre><code>network:\n  version: 2\n  ethernets:\n    enp4s0:\n      dhcp4: true\n</code></pre>"},{"location":"TechGuide/netplan/route/#configuring-routes-for-vlan-interfaces","title":"Configuring Routes for VLAN Interfaces","text":""},{"location":"TechGuide/netplan/route/#static-route-configuration_1","title":"Static Route Configuration","text":"<pre><code>network:\n  version: 2\n  vlans:\n    vlan10:\n      id: 10\n      link: enp3s0\n      addresses:\n        - 192.168.10.2/24\n      routes:\n        - to: 192.168.20.0/24\n          via: 192.168.10.1\n          metric: 50\n          table: 200\n      routing-policy:\n        - from: 192.168.10.2\n          table: 200\n</code></pre> <p>In this configuration: - <code>vlan10</code> is a VLAN interface linked to <code>enp3s0</code>. - A static route to <code>192.168.20.0/24</code> is defined with a lower metric, prioritizing this path. - A custom routing table <code>200</code> is specified.</p>"},{"location":"TechGuide/netplan/route/#configuring-routes-for-bridge-interfaces","title":"Configuring Routes for Bridge Interfaces","text":""},{"location":"TechGuide/netplan/route/#static-route-configuration_2","title":"Static Route Configuration","text":"<pre><code>network:\n  version: 2\n  bridges:\n    br0:\n      interfaces:\n        - enp3s0\n        - enp4s0\n      addresses:\n        - 10.0.0.1/24\n      routes:\n        - to: 10.1.0.0/24\n          via: 10.0.0.254\n          metric: 150\n          table: 300\n        - to: 0.0.0.0/0\n          via: 10.0.0.254\n          metric: 250\n      routing-policy:\n        - from: 10.0.0.1\n          table: 300\n</code></pre> <p>In this setup: - <code>br0</code> is a bridge interface combining <code>enp3s0</code> and <code>enp4s0</code>. - Routes are added with metrics to determine priority. - A custom routing table <code>300</code> is specified for advanced policy routing.</p>"},{"location":"TechGuide/netplan/route/#applying-and-verifying-the-configuration","title":"Applying and Verifying the Configuration","text":"<ol> <li>Save the configuration file.</li> <li>Apply the changes:</li> </ol> <pre><code>sudo netplan apply\n</code></pre> <ol> <li>Verify the routing table:</li> </ol> <pre><code>ip route show table 100\nip route show table 200\nip route show table 300\n</code></pre> <ol> <li>Check policies:</li> </ol> <pre><code>ip rule\n</code></pre>"},{"location":"TechGuide/netplan/route/#summary","title":"Summary","text":"<ul> <li>Routes in Netplan can be configured for Ethernet, VLAN, and Bridge interfaces.</li> <li>Use the <code>metric</code> field to prioritize routes.</li> <li>Use custom routing tables for advanced routing scenarios.</li> <li>Apply routing policies to direct traffic based on source addresses or interfaces.</li> </ul> <p>By leveraging Netplan\u2019s routing capabilities, you can create robust and flexible network configurations tailored to your needs.</p>"},{"location":"TechGuide/netplan/vlan/","title":"VLAN","text":""},{"location":"TechGuide/netplan/vlan/#configuring-vlans-with-netplan","title":"Configuring VLANs with Netplan","text":"<p>Netplan makes it easy to configure VLANs (Virtual LANs) on systems running Ubuntu or other Linux distributions that use <code>systemd</code>. This guide will walk you through the steps to set up VLANs using Netplan.</p>"},{"location":"TechGuide/netplan/vlan/#prerequisites","title":"Prerequisites","text":"<p>Before proceeding, ensure the following:</p> <ol> <li>Your Linux system supports Netplan (e.g., Ubuntu 18.04 or later).</li> <li>You have <code>sudo</code> privileges to configure the network.</li> <li>Your network interface supports VLAN tagging.</li> </ol>"},{"location":"TechGuide/netplan/vlan/#understanding-vlans","title":"Understanding VLANs","text":"<p>A VLAN allows you to create multiple logical networks on a single physical interface. Each VLAN is identified by a unique VLAN ID.</p>"},{"location":"TechGuide/netplan/vlan/#steps-to-configure-a-vlan","title":"Steps to Configure a VLAN","text":""},{"location":"TechGuide/netplan/vlan/#1-identify-the-base-interface","title":"1. Identify the Base Interface","text":"<p>List all network interfaces using:</p> <pre><code>ip link show\n</code></pre> <p>Note the name of the physical interface (e.g., <code>enp3s0</code>) that will host the VLAN.</p>"},{"location":"TechGuide/netplan/vlan/#2-create-or-edit-a-netplan-configuration-file","title":"2. Create or Edit a Netplan Configuration File","text":"<p>Use a text editor to create or modify a YAML configuration file in the <code>/etc/netplan/</code> directory:</p> <pre><code>sudo nano /etc/netplan/02-vlan-config.yaml\n</code></pre>"},{"location":"TechGuide/netplan/vlan/#3-define-the-vlan-configuration","title":"3. Define the VLAN Configuration","text":"<p>Below are examples of VLAN configurations.</p>"},{"location":"TechGuide/netplan/vlan/#a-single-vlan-configuration","title":"a. Single VLAN Configuration","text":"<pre><code>network:\n  version: 2\n  ethernets:\n    enp3s0:\n      dhcp4: false\n  vlans:\n    vlan10:\n      id: 10\n      link: enp3s0\n      addresses:\n        - 192.168.10.2/24\n      gateway4: 192.168.10.1\n      nameservers:\n        addresses:\n          - 8.8.8.8\n          - 8.8.4.4\n</code></pre>"},{"location":"TechGuide/netplan/vlan/#b-multiple-vlans-on-a-single-interface","title":"b. Multiple VLANs on a Single Interface","text":"<pre><code>network:\n  version: 2\n  ethernets:\n    enp3s0:\n      dhcp4: false\n  vlans:\n    vlan10:\n      id: 10\n      link: enp3s0\n      addresses:\n        - 192.168.10.2/24\n    vlan20:\n      id: 20\n      link: enp3s0\n      addresses:\n        - 192.168.20.2/24\n</code></pre> <p>In this example: - <code>id</code> specifies the VLAN ID. - <code>link</code> indicates the physical interface associated with the VLAN. - <code>addresses</code> define the IP addresses for each VLAN.</p>"},{"location":"TechGuide/netplan/vlan/#4-apply-the-configuration","title":"4. Apply the Configuration","text":"<p>After saving the file, apply the configuration:</p> <pre><code>sudo netplan apply\n</code></pre> <p>If you are unsure about the configuration, use <code>sudo netplan try</code> to test it interactively before applying it permanently.</p>"},{"location":"TechGuide/netplan/vlan/#5-verify-the-vlan-setup","title":"5. Verify the VLAN Setup","text":"<p>Check the status of the VLAN interfaces:</p> <pre><code>ip link show\n</code></pre> <p>Look for the VLAN interfaces (e.g., <code>vlan10</code>, <code>vlan20</code>). Verify their IP configurations using:</p> <pre><code>ip addr show vlan10\n</code></pre> <p>Test connectivity using:</p> <pre><code>ping -c 4 192.168.10.1\n</code></pre>"},{"location":"TechGuide/netplan/vlan/#troubleshooting","title":"Troubleshooting","text":"<ol> <li>Check Configuration Syntax:</li> </ol> <p>Validate the YAML file:</p> <pre><code>sudo netplan generate\n</code></pre> <ol> <li>Review Logs:</li> </ol> <p>Use the following command to view network-related logs:</p> <pre><code>journalctl -u systemd-networkd\n</code></pre> <ol> <li>Revert Changes:</li> </ol> <p>If the network becomes inaccessible, use a recovery shell or boot into a live session to fix the configuration.</p>"},{"location":"TechGuide/netplan/vlan/#additional-resources","title":"Additional Resources","text":"<ul> <li>Netplan Official Documentation</li> <li><code>man netplan</code></li> </ul>"}]}